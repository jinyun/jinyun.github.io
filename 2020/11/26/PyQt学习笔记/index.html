<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><title>PyQt学习笔记 | 小郭博客</title><meta name="keywords" content="PyQt,Python"><meta name="author" content="Jinyun"><meta name="copyright" content="Jinyun"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><meta name="description" content="1. 环境搭建安装和配置1.安装我这里使用的环境是ubuntu20.04 + python3.8.5 + pycharm2017 使用pyenv创建虚拟环境 12345pyenv virtualenv Qt5pyenv activate Qt5pip install PyQt5 PyQt5-tools 安装QtCreator 1sudo apt-get install qtcreator pyqt">
<meta property="og:type" content="article">
<meta property="og:title" content="PyQt学习笔记">
<meta property="og:url" content="http://example.com/2020/11/26/PyQt%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/index.html">
<meta property="og:site_name" content="小郭博客">
<meta property="og:description" content="1. 环境搭建安装和配置1.安装我这里使用的环境是ubuntu20.04 + python3.8.5 + pycharm2017 使用pyenv创建虚拟环境 12345pyenv virtualenv Qt5pyenv activate Qt5pip install PyQt5 PyQt5-tools 安装QtCreator 1sudo apt-get install qtcreator pyqt">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/img/default.jpg">
<meta property="article:published_time" content="2020-11-26T13:54:00.000Z">
<meta property="article:modified_time" content="2021-06-15T12:55:20.953Z">
<meta property="article:author" content="Jinyun">
<meta property="article:tag" content="PyQt">
<meta property="article:tag" content="Python">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/img/default.jpg"><link rel="shortcut icon" href="/img/favicon.png"><link rel="canonical" href="http://example.com/2020/11/26/PyQt%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.css"><script>var GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: undefined,
  translate: undefined,
  noticeOutdate: undefined,
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '',
  date_suffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: {"limitCount":50,"languages":{"author":"作者: Jinyun","link":"链接: ","source":"来源: 小郭博客","info":"著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。"}},
  ClickShowText: undefined,
  lightbox: 'fancybox',
  Snackbar: undefined,
  justifiedGallery: {
    js: 'https://cdn.jsdelivr.net/npm/justifiedGallery/dist/js/jquery.justifiedGallery.min.js',
    css: 'https://cdn.jsdelivr.net/npm/justifiedGallery/dist/css/justifiedGallery.min.css'
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isanchor: false
};

var saveToLocal = {
  set: function setWithExpiry(key, value, ttl) {
    const now = new Date()
    const expiryDay = ttl * 86400000
    const item = {
      value: value,
      expiry: now.getTime() + expiryDay,
    }
    localStorage.setItem(key, JSON.stringify(item))
  },

  get: function getWithExpiry(key) {
    const itemStr = localStorage.getItem(key)

    if (!itemStr) {
      return undefined
    }
    const item = JSON.parse(itemStr)
    const now = new Date()

    if (now.getTime() > item.expiry) {
      localStorage.removeItem(key)
      return undefined
    }
    return item.value
  }
}</script><script id="config_change">var GLOBAL_CONFIG_SITE = { 
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2021-06-15 12:55:20'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(function () {  window.activateDarkMode = function () {
    document.documentElement.setAttribute('data-theme', 'dark')
    if (document.querySelector('meta[name="theme-color"]') !== null) {
      document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
    }
  }
  window.activateLightMode = function () {
    document.documentElement.setAttribute('data-theme', 'light')
   if (document.querySelector('meta[name="theme-color"]') !== null) {
      document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
    }
  }
  const autoChangeMode = 'false'
  const t = saveToLocal.get('theme')
  if (autoChangeMode === '1') {
    const isDarkMode = window.matchMedia('(prefers-color-scheme: dark)').matches
    const isLightMode = window.matchMedia('(prefers-color-scheme: light)').matches
    const isNotSpecified = window.matchMedia('(prefers-color-scheme: no-preference)').matches
    const hasNoSupport = !isDarkMode && !isLightMode && !isNotSpecified
    if (t === undefined) {
      if (isLightMode) activateLightMode()
      else if (isDarkMode) activateDarkMode()
      else if (isNotSpecified || hasNoSupport) {
        const now = new Date()
        const hour = now.getHours()
        const isNight = hour <= 6 || hour >= 18
        isNight ? activateDarkMode() : activateLightMode()
      }
      window.matchMedia('(prefers-color-scheme: dark)').addListener(function (e) {
        if (saveToLocal.get('theme') === undefined) {
          e.matches ? activateDarkMode() : activateLightMode()
        }
      })
    } else if (t === 'light') activateLightMode()
    else activateDarkMode()
  } else if (autoChangeMode === '2') {
    const now = new Date()
    const hour = now.getHours()
    const isNight = hour <= 6 || hour >= 18
    if (t === undefined) isNight ? activateDarkMode() : activateLightMode()
    else if (t === 'light') activateLightMode()
    else activateDarkMode()
  } else {
    if (t === 'dark') activateDarkMode()
    else if (t === 'light') activateLightMode()
  }const asideStatus = saveToLocal.get('aside-status')
if (asideStatus !== undefined) {
   if (asideStatus === 'hide') {
     document.documentElement.classList.add('hide-aside')
   } else {
     document.documentElement.classList.remove('hide-aside')
   }
}})()</script><meta name="generator" content="Hexo 5.2.0"></head><body><div id="loading-box"><div class="loading-left-bg"></div><div class="loading-right-bg"></div><div class="spinner-box"><div class="configure-border-1"><div class="configure-core"></div></div><div class="configure-border-2"><div class="configure-core"></div></div><div class="loading-word">加载中...</div></div></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="author-avatar"><img class="avatar-img" src="/img/avatar.png" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="site-data"><div class="data-item is-center"><div class="data-item-link"><a href="/archives/"><div class="headline">文章</div><div class="length-num">9</div></a></div></div><div class="data-item is-center"><div class="data-item-link"><a href="/tags/"><div class="headline">标签</div><div class="length-num">4</div></a></div></div><div class="data-item is-center"><div class="data-item-link"><a href="/categories/"><div class="headline">分类</div><div class="length-num">2</div></a></div></div></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> Home</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> Archives</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> Tags</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> Categories</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> Link</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> About</span></a></div></div></div></div><div id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url(https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/img/default.jpg)"><nav id="nav"><span id="blog_name"><a id="site-name" href="/">小郭博客</a></span><span id="menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> Home</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> Archives</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> Tags</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> Categories</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> Link</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> About</span></a></div></div><span class="close" id="toggle-menu"><a class="site-page"><i class="fas fa-bars fa-fw"></i></a></span></span></nav><div id="post-info"><h1 class="post-title">PyQt学习笔记</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2020-11-26T13:54:00.000Z" title="发表于 2020-11-26 13:54:00">2020-11-26</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2021-06-15T12:55:20.953Z" title="更新于 2021-06-15 12:55:20">2021-06-15</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/Python/">Python</a></span></div><div class="meta-secondline"> <span class="post-meta-separator">|</span><span class="post-meta-pv-cv"><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">阅读量:</span><span id="busuanzi_value_page_pv"></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><h2 id="1-环境搭建安装和配置"><a href="#1-环境搭建安装和配置" class="headerlink" title="1. 环境搭建安装和配置"></a>1. 环境搭建安装和配置</h2><h3 id="1-安装"><a href="#1-安装" class="headerlink" title="1.安装"></a>1.安装</h3><p>我这里使用的环境是ubuntu20.04 + python3.8.5 + pycharm2017</p>
<p>使用pyenv创建虚拟环境</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">pyenv virtualenv Qt5</span><br><span class="line"></span><br><span class="line">pyenv activate Qt5</span><br><span class="line"></span><br><span class="line">pip install PyQt5 PyQt5-tools</span><br></pre></td></tr></table></figure>
<p>安装QtCreator</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get install qtcreator pyqt5-dev-tools</span><br></pre></td></tr></table></figure>

<h3 id="2-配置pytharm"><a href="#2-配置pytharm" class="headerlink" title="2. 配置pytharm"></a>2. 配置pytharm</h3><ol>
<li>在　｀File -&gt;　Settings -&gt; Tools -&gt; External Tools｀　中创建扩展菜单.</li>
</ol>
<p><img src="http://mediaqn.meitranslation.com/blog/exttools-qt.png"></p>
<p>添加三个子菜单</p>
<ol>
<li><p>QtDesigner</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Name: QtDesigner</span><br><span class="line">Group: Qt</span><br><span class="line">Program: &#x2F;usr&#x2F;bin&#x2F;designer</span><br><span class="line">Arguments: $FileName$</span><br><span class="line">working directory: $ProjectFileDir$</span><br></pre></td></tr></table></figure>
</li>
<li><p>PyUIC</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Name: PyUIC</span><br><span class="line">Group: Qt</span><br><span class="line">Program: python</span><br><span class="line">Arguments: -m PyQt5.uic.pyuic $FileName$ -o $FileNameWithoutExtension$.py</span><br><span class="line">working directory: $FileDir$</span><br></pre></td></tr></table></figure></li>
<li><p>Rcc2Py</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Name: Rcc2Py</span><br><span class="line">Group: Qt</span><br><span class="line">Program: python</span><br><span class="line">Arguments: -m PyQt5.pyrcc_main $FileName$ -o $FileNameWithoutExtension$_rc.py</span><br><span class="line">working directory: $FileDir$</span><br></pre></td></tr></table></figure>

</li>
</ol>
<h3 id="3-测试"><a href="#3-测试" class="headerlink" title="3. 测试"></a>3. 测试</h3><p>在PyCharm中创建python项目HelloQt，选择pyenv 创建的虚拟环境Qt5<br>在项目上右键打开<code>Qt -&gt; QtDesigner</code>,打开界面创建一个测试界面,<code>template/forms</code>选择<code>Dialog with Buttons Bottom</code>,Create , 保存成<code>HelloQtDialog.ui</code></p>
<p>关闭QtDesigner 回到pycharm,在HelloQtDialog.ui右键选在<code>Qt -&gt; PyUIC</code>,直接编译生成对应的python文件</p>
<p>创建一个启动的Main.py文件.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> sys</span><br><span class="line"></span><br><span class="line"><span class="keyword">from</span> PyQt5.QtWidgets <span class="keyword">import</span> QApplication, QDialog</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> HelloQtDialog</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    app = QApplication(sys.argv)</span><br><span class="line">    dlg = QDialog()</span><br><span class="line"></span><br><span class="line">    myUI = HelloQtDialog.Ui_Dialog()</span><br><span class="line"></span><br><span class="line">    myUI.setupUi(dlg)</span><br><span class="line">    dlg.show()</span><br><span class="line">    sys.exit(app.exec_())</span><br></pre></td></tr></table></figure>
<p>启动这个main文件的main方法,可以直接看到界面.</p>
<p>到此位置,开发环境就算搭建好了.</p>
<h2 id="2-Qt-Designer界面介绍"><a href="#2-Qt-Designer界面介绍" class="headerlink" title="2. Qt Designer界面介绍"></a>2. Qt Designer界面介绍</h2><h3 id="创建界面"><a href="#创建界面" class="headerlink" title="创建界面"></a>创建界面</h3><ol>
<li>Diglog模板，基于QDialog类的窗体，具有一般对话框的特性，如可以模态显示，具有返回值等．</li>
<li>Main Window模板, 基于QMainWindow类的窗口，具体有主窗口的特性，窗口上有主菜单栏，工具栏和状态栏等．</li>
<li>Widget模板，基于QWidget类的窗体．QWidget 类是所有界面的基类，比如QLable,QPushButton等界面组件都是从QWidget类继承而来．QWidget类也是QDialog和QMainWindow的父类，基于QWidget类创建的窗体可以作为独立的窗口运行，也可以嵌入到其他界面组件内显示．</li>
</ol>
<p><img src="http://mediaqn.meitranslation.com/blog/image-20201202173818469.png" alt="image-20201202173818469"></p>
<h2 id="3-界面与逻辑分离的设计方法"><a href="#3-界面与逻辑分离的设计方法" class="headerlink" title="3. 界面与逻辑分离的设计方法"></a>3. 界面与逻辑分离的设计方法</h2><h3 id="创建UI文件"><a href="#创建UI文件" class="headerlink" title="创建UI文件"></a>创建UI文件</h3><p>在pycharm 项目中，右键打开<code>Qt -&gt; QtDesigner</code>, 创建<code>Widget</code>, 添加<code>QLabel</code>,<code>QPushButton</code>,保存<code>HelloQtForm.ui</code>. 在pycharm中<code>HelloQtForm.ui</code>右键选在<code>Qt -&gt; PyUIC</code>．生成对应的py文件．</p>
<h3 id="多继承方法"><a href="#多继承方法" class="headerlink" title="多继承方法"></a>多继承方法</h3><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> sys</span><br><span class="line"><span class="keyword">from</span> PyQt5.QtWidgets <span class="keyword">import</span> QWidget, QApplication</span><br><span class="line"></span><br><span class="line"><span class="keyword">from</span> HelloQtForm <span class="keyword">import</span> Ui_Form</span><br><span class="line"></span><br><span class="line"><span class="comment"># 窗体的业务逻辑类</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">QMyWidget</span>(<span class="params">QWidget,Ui_Form</span>):</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self,parent=<span class="literal">None</span></span>):</span></span><br><span class="line">    	<span class="comment"># 函数super()获取父类，并执行父类的构造函数，代码是super().__init__(parent)，在多继承时，使用super()得到的是第一个基类，在这里就是QWidget。所以，执行这条语句后，self就是一个QWidget对象。</span></span><br><span class="line">        <span class="built_in">super</span>().__init__(parent)</span><br><span class="line"></span><br><span class="line">        self.Lab = <span class="string">&quot;多重继承的QMyWidget&quot;</span></span><br><span class="line">        <span class="comment"># 因为QmyWidget的基类包括Ui_Form类，所以可以调用Ui_Form类的setupUi()函数。同时，经过前面调用父类的构造函数，self是一个QWidget对象，可以作为参数传递给setupUi()函数，正好作为各组件的窗体容器。</span></span><br><span class="line">        self.setupUi(self)</span><br><span class="line">        self.label.setText(self.Lab)</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    app = QApplication(sys.argv)</span><br><span class="line">    myWidget = QMyWidget()</span><br><span class="line">    myWidget.show()</span><br><span class="line">    myWidget.btnClose.setText(<span class="string">&quot;不关闭了&quot;</span>)</span><br><span class="line">    sys.exit(app.exec_())</span><br></pre></td></tr></table></figure>



<p>优缺点：</p>
<ol>
<li>界面上的组件都成为窗体业务逻辑类QMyWidget的公共属性，外界可以直接访问．优点是方便访问，缺点是过于开放，不符合面向对象的严格封装的思想</li>
<li>界面上的组件与包装组件QMyWidget类中的新定义属性混合到一起，不便于区分，组件较多时，属性是定义在界面类还是逻辑类，不方便区分，这样不利于界面和业务逻辑分离．</li>
</ol>
<h3 id="单继承与界面独立封装方法"><a href="#单继承与界面独立封装方法" class="headerlink" title="单继承与界面独立封装方法"></a>单继承与界面独立封装方法</h3><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> sys</span><br><span class="line"><span class="keyword">from</span> PyQt5.QtWidgets <span class="keyword">import</span> QWidget, QApplication</span><br><span class="line"></span><br><span class="line"><span class="keyword">from</span> HelloQtForm <span class="keyword">import</span> Ui_Form</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">QMyWidget</span>(<span class="params">QWidget</span>):</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self,parent=<span class="literal">None</span></span>):</span></span><br><span class="line">        <span class="built_in">super</span>().__init__(parent)</span><br><span class="line">        <span class="comment"># 显式地创建了一个Ui_Form类的私有属性self.__ui，即self.__ui = Ui_Form。私有属性self.__ui包含了可视化设计的UI窗体上的所有组件，所以，只有通过self.__ui才可以访问窗体上的组件，包括调用其创建界面组件的setupUi()函数</span></span><br><span class="line">        self.__ui = Ui_Form()</span><br><span class="line">        self.__ui.setupUi(self)</span><br><span class="line"></span><br><span class="line">        self.Lab = <span class="string">&quot;单继承的QMyWidget&quot;</span></span><br><span class="line">        self.__ui.label.setText(self.Lab)</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">set_btn_text</span>(<span class="params">self,a_text</span>):</span></span><br><span class="line">        self.__ui.btnClose.setText(a_text)</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    app = QApplication(sys.argv)</span><br><span class="line">    myWidget = QMyWidget()</span><br><span class="line">    myWidget.show()</span><br><span class="line">    myWidget.set_btn_text(<span class="string">&quot;不关闭了&quot;</span>)</span><br><span class="line">    sys.exit(app.exec_())</span><br></pre></td></tr></table></figure>



<p>可视化设计的窗体对象被定义为QmyWidget类的一个私有属性self.__ui，在QmyWidget类的内部对窗体上的组件的访问都通过这个属性实现，而外部无法直接访问窗体上的对象，这更符合面向对象封装隔离的设计思想。</p>
<p>窗体上的组件不会与QmyWidget里定义的属性混淆，例如self.Lab和self.__ui.label，有利于界面与业务逻辑的分离。</p>
<p>也可以定义界面对象为公共属性，即创建界面对象时用下面的语句：self.ui = Ui_Form()，这里的ui就是个公共属性，在类的外部也可以通过属性ui直接访问界面上的组件</p>
<h3 id="小总结"><a href="#小总结" class="headerlink" title="小总结"></a>小总结</h3><p>多继承和单继承，其实就是类的组成**<code>继承</code><strong>和</strong><code>组合</code>**之间的关系．<code>组合关系</code>更加灵活和易扩展和拆分．</p>
<h2 id="4-信号与槽的使用"><a href="#4-信号与槽的使用" class="headerlink" title="4.信号与槽的使用"></a>4.信号与槽的使用</h2><p>信号(Signal)：就是在特定情况下发送的一种消息,比如一个PushButton常见的信号就是点击发送的clicked()信号等.GUI程序主要内容就是对界面上的各种组件发射的各种信号进行响应,只需要知道什么情况下发射了那些信号,然后合理的处理这些信号就可以</p>
<p>槽(Slot):就是对应信号响应的函数,槽实质也是一个函数,可以被直接调用. 槽函数可以与一个信号关联,当信号被发射的时候,关联的槽函数会被自动调用.Qt会有一些內建(build-in)的槽函数,比如QWidget有一个槽函数close(),其功能是关闭窗口,如果把PushButton按钮的的click()信号和窗体的close()槽函数关联,点击按钮就会关闭窗口.</p>
<h3 id="创建一个UI"><a href="#创建一个UI" class="headerlink" title="创建一个UI"></a>创建一个UI</h3><p>在QtDesigner中创建ui文件.</p>
<p><img src="http://mediaqn.meitranslation.com/blog/image-20201203124605172.png"></p>
<ol>
<li><p>创建基于<code>Dialog without Buttons</code>模板的窗口</p>
</li>
<li><p>添加多个<code>Horizontal Layout</code> ,只有添加了组件之后,Dialog组件的布局才能调整, 直接选择<code>Vertival Layout</code></p>
</li>
<li><p>添加组件构成如下图</p>
<p><img src="http://mediaqn.meitranslation.com/blog/image-20201203130646725.png"></p>
</li>
<li><p>配置属性</p>
<table>
<thead>
<tr>
<th align="center">对象名</th>
<th align="center">类名称</th>
<th align="center">属性设置</th>
<th align="center">功能</th>
</tr>
</thead>
<tbody><tr>
<td align="center">Dialog</td>
<td align="center">QDialog</td>
<td align="center">windowTitle=”信号与槽”</td>
<td align="center">窗体的类名称是Dialog，objectName不要修改</td>
</tr>
<tr>
<td align="center">textEdit</td>
<td align="center">QPlainTextEdit</td>
<td align="center">plainText=”PyQt5 编程指南\nPython 和 Qt.”</td>
<td align="center">用于显示文字，可编辑</td>
</tr>
<tr>
<td align="center">chkBoxUnder</td>
<td align="center">QCheckBox</td>
<td align="center">Text=”Underline”</td>
<td align="center">设置字体的下划线特定</td>
</tr>
<tr>
<td align="center">chkBoxItalix</td>
<td align="center">QCheckBox</td>
<td align="center">Text=”Italic”</td>
<td align="center">设置字体的斜体特性</td>
</tr>
<tr>
<td align="center">chkBoxBold</td>
<td align="center">QCheckBox</td>
<td align="center">Text=”Bold”</td>
<td align="center">设置字体的粗体特性</td>
</tr>
<tr>
<td align="center">radioBlack</td>
<td align="center">QRadioButton</td>
<td align="center">Text=”Black”</td>
<td align="center">设置字体颜色为黑色</td>
</tr>
<tr>
<td align="center">radioRed</td>
<td align="center">QRadioButton</td>
<td align="center">Text=”Red”</td>
<td align="center">设置字体颜色为红色</td>
</tr>
<tr>
<td align="center">radioBlue</td>
<td align="center">QRadioButton</td>
<td align="center">Text=”Blue”</td>
<td align="center">设置字体颜色为蓝色</td>
</tr>
<tr>
<td align="center">btnClear</td>
<td align="center">QPushButton</td>
<td align="center">Text=”清空”</td>
<td align="center">清空文本框内容</td>
</tr>
<tr>
<td align="center">btnOK</td>
<td align="center">QPushButton</td>
<td align="center">Text=”确定”</td>
<td align="center">返回确定，并关闭窗口</td>
</tr>
<tr>
<td align="center">btnClose</td>
<td align="center">QPushButton</td>
<td align="center">Text=”退出”</td>
<td align="center">退出程序</td>
</tr>
</tbody></table>
<p>每个布局还有layoutTopMargin、layoutBottomMargin、layoutLeftMargin、layoutRightMargin这四个属性用于调整布局边框与内部组件之间的上、下、左、右的边距大小。</p>
</li>
<li><p>工具栏</p>
<p><img src="http://mediaqn.meitranslation.com/blog/image-20201203131825243.png"></p>
</li>
</ol>
<p>   在设计窗体的上方有一个工具栏，用于使界面进入不同的设计状态，以及进行布局设计，工具栏商各按钮的功能如下：</p>
<table>
<thead>
<tr>
<th>按钮以及快捷键</th>
<th>功能</th>
</tr>
</thead>
<tbody><tr>
<td>Edit Widget(F3)</td>
<td>界面设计进入编辑状态，也就是正常的设计状态</td>
</tr>
<tr>
<td>Edit Signals/Slots(F4)</td>
<td>进入信号与槽的可视化设计状态</td>
</tr>
<tr>
<td>Edit Buddies</td>
<td>进入伙伴关系编辑状态，可以设置一个Lable与一个组件成为伙伴关系</td>
</tr>
<tr>
<td>Edit Tab Order</td>
<td>进入Tab顺序编辑状态，Tab顺序是指在键盘上按Tab键时，输入焦点在界面各组件之间跳动的顺序</td>
</tr>
</tbody></table>
<ol start="6">
<li><p>组件的信号与内建槽函数的关联</p>
<p>点击<code>Edit Signals/Slots(F4)</code>,窗体进入信号与槽函数编辑状态。鼠标点选“确定”按钮，在按住鼠标左键拖动到窗体的空白区域后释放左键，这时出现关联设置对话框</p>
<p><img src="http://mediaqn.meitranslation.com/blog/image-20201203132323263.png"></p>
<p>btnOK中的clicked()连接到Dialog的accept()槽函数,点击OK按钮.同样的将btnClose的clicked()信号与Dialog的close()槽函数关联，值得注意的是，如果没有看到close()槽函数，可以将下方的“Show signals and slots inherited from QWidget”打勾。</p>
</li>
</ol>
<h3 id="把ui文件转换"><a href="#把ui文件转换" class="headerlink" title="把ui文件转换"></a>把ui文件转换</h3><ol>
<li><p>把转换ui文件转换成py文件</p>
</li>
<li><p>创建窗体业务逻辑类</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> sys</span><br><span class="line"><span class="keyword">from</span> PyQt5.QtWidgets <span class="keyword">import</span> QDialog, QApplication</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> HelloQtDialogSignalSlot</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">QMyDialogSignalSlot</span>(<span class="params">QDialog</span>):</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self,parent=<span class="literal">None</span></span>):</span></span><br><span class="line">        <span class="built_in">super</span>().__init__(parent)</span><br><span class="line">        self.ui = HelloQtDialogSignalSlot.Ui_Dialog()</span><br><span class="line">        self.ui.setupUi(self)</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    app = QApplication(sys.argv)</span><br><span class="line">    form = QMyDialogSignalSlot()</span><br><span class="line">    form.show()</span><br><span class="line">    sys.exit(app.exec_())</span><br></pre></td></tr></table></figure>
</li>
<li><p>创建主程序文件main.py</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> sys</span><br><span class="line"><span class="keyword">from</span> PyQt5.QtWidgets <span class="keyword">import</span> QApplication</span><br><span class="line"><span class="keyword">from</span> myDialog <span class="keyword">import</span> QmyDialog</span><br><span class="line"></span><br><span class="line">app = QApplication(sys.argv)  <span class="comment"># 创建GUI应用程序</span></span><br><span class="line">mainform = QmyDialog()  <span class="comment"># 创建主窗体</span></span><br><span class="line">mainform.show()  <span class="comment"># 显示主窗体</span></span><br><span class="line">sys.exit(app.exec_())</span><br></pre></td></tr></table></figure>

</li>
</ol>
<h3 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h3><p>把前几天的代码整理了一下如下:</p>
<p><img src="http://mediaqn.meitranslation.com/blog/image-20201203133312351.png"></p>
<p>发现import 同目录文件的时候pycharm提示错误,这是因为pycharm没有把目录作为<code>源文件目录</code></p>
<h2 id="5-为组件的內建信号编写槽函数"><a href="#5-为组件的內建信号编写槽函数" class="headerlink" title="5.为组件的內建信号编写槽函数"></a>5.为组件的內建信号编写槽函数</h2><ol>
<li><p>为<code>清空</code>按钮添加槽函数,在<code>__init__()</code>方法中给<code>清空</code>按钮绑定一个函数 <code>self.ui.btnClear.connect(self.clear_text)</code></p>
</li>
<li><p>在业务逻辑类中添加<code>clear_text()</code>函数</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">QMyDialogSignalSlot</span>(<span class="params">QDialog</span>):</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self,parent=<span class="literal">None</span></span>):</span></span><br><span class="line">        <span class="built_in">super</span>().__init__(parent)</span><br><span class="line">        self.ui = HelloQtDialogSignalSlot.Ui_Dialog()</span><br><span class="line">        self.ui.setupUi(self)</span><br><span class="line"></span><br><span class="line">        self.ui.btnClear.connect(self.clear_text) <span class="comment"># btnClear绑定clear_text槽函数</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">clear_text</span>(<span class="params">self</span>):</span></span><br><span class="line">        self.ui.textEdit.clear()</span><br></pre></td></tr></table></figure>

<p>如果函数按照<code>on_&lt;object name&gt;_&lt;signal name&gt;(&lt;signal parameters&gt;)</code>命名的话，那么就可以省略绑定函数那一步。</p>
<p>在于HelloQtDialogSignalSlot.py文件中的Ui_Dialog.setupUi()函数的最后一行语句 QtCore.QMeteObject.connectSlotsByName(Dialog)，使用了Qt的元对象（QMetaObject），它会搜索Dialog窗体上的所有从属组件，将匹配的信号和槽函数关联起来。比如清空按钮槽函数取名为on_btnClear_clicked()。</p>
</li>
<li><p>更新代码如下</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> sys</span><br><span class="line"></span><br><span class="line"><span class="keyword">from</span> PyQt5.QtCore <span class="keyword">import</span> Qt</span><br><span class="line"><span class="keyword">from</span> PyQt5.QtGui <span class="keyword">import</span> QPalette</span><br><span class="line"><span class="keyword">from</span> PyQt5.QtWidgets <span class="keyword">import</span> QDialog, QApplication</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> HelloQtDialogSignalSlot</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">QMyDialogSignalSlot</span>(<span class="params">QDialog</span>):</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self,parent=<span class="literal">None</span></span>):</span></span><br><span class="line">        <span class="built_in">super</span>().__init__(parent)</span><br><span class="line">        self.ui = HelloQtDialogSignalSlot.Ui_Dialog()</span><br><span class="line">        self.ui.setupUi(self)</span><br><span class="line"></span><br><span class="line">        <span class="comment"># ///////////// 自行添加的部分 /////////////</span></span><br><span class="line"></span><br><span class="line">        <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">        这部分如果是按照槽函数命名规则命名的，可以注释掉，如果是自己命名的，那么需要加上。</span></span><br><span class="line"><span class="string">        命名规则：on_&lt;object name&gt;_&lt;signal name&gt;(&lt;signal parameters&gt;)</span></span><br><span class="line"><span class="string">        如清空按钮就是：on_btnClear_clicked</span></span><br><span class="line"><span class="string">        &quot;&quot;&quot;</span></span><br><span class="line">        <span class="comment"># ==================================================================</span></span><br><span class="line">        <span class="comment"># # 添加下划线</span></span><br><span class="line">        <span class="comment"># self.ui.chkBoxUnder.clicked.connect(self.on_chkBoxUnder_clicked)</span></span><br><span class="line">        <span class="comment">#</span></span><br><span class="line">        <span class="comment"># # 修改编辑框中字体为斜体</span></span><br><span class="line">        <span class="comment"># self.ui.chkBoxItalix.clicked.connect(self.on_chkBoxItalix_clicked)</span></span><br><span class="line">        <span class="comment">#</span></span><br><span class="line">        <span class="comment"># # # 修改编辑框中字体为斜体</span></span><br><span class="line">        <span class="comment"># # self.ui.chkBoxItalix.toggled.connect(self.on_chkBoxItalix_toggled)</span></span><br><span class="line">        <span class="comment">#</span></span><br><span class="line">        <span class="comment"># # 添加加粗效果</span></span><br><span class="line">        <span class="comment"># self.ui.chkBoxBold.toggled.connect(self.on_chkBoxBold_toggled)</span></span><br><span class="line">        <span class="comment">#</span></span><br><span class="line">        <span class="comment"># # 添加clear效果</span></span><br><span class="line">        <span class="comment"># self.ui.btnClear.clicked.connect(self.on_btnClear_clicked)</span></span><br><span class="line">        <span class="comment"># ==================================================================</span></span><br><span class="line"></span><br><span class="line">        <span class="comment"># 设置颜色关联函数</span></span><br><span class="line">        self.ui.radioBlack.clicked.connect(self.do_setTextColor)</span><br><span class="line">        self.ui.radioRed.clicked.connect(self.do_setTextColor)</span><br><span class="line">        self.ui.radioBlue.clicked.connect(self.do_setTextColor)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 设置文本颜色</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">do_setTextColor</span>(<span class="params">self</span>):</span></span><br><span class="line">        plet = self.ui.textEdit.palette()  <span class="comment"># 获取palette</span></span><br><span class="line">        <span class="keyword">if</span> (self.ui.radioBlack.isChecked()):</span><br><span class="line">            plet.setColor(QPalette.Text, Qt.black)</span><br><span class="line">        <span class="keyword">elif</span> (self.ui.radioRed.isChecked()):</span><br><span class="line">            plet.setColor(QPalette.Text, Qt.red)</span><br><span class="line">        <span class="keyword">elif</span> (self.ui.radioBlue.isChecked()):</span><br><span class="line">            plet.setColor(QPalette.Text, Qt.blue)</span><br><span class="line">        self.ui.textEdit.setPalette(plet)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 将编辑框里面的文字添加下划线</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">on_chkBoxUnder_clicked</span>(<span class="params">self</span>):</span></span><br><span class="line">        checked = self.ui.chkBoxUnder.isChecked()  <span class="comment"># 读取勾选状态</span></span><br><span class="line">        font = self.ui.textEdit.font()</span><br><span class="line">        font.setUnderline(checked)</span><br><span class="line">        self.ui.textEdit.setFont(font)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># @pyqtSlot(bool)</span></span><br><span class="line">    <span class="comment"># # 将编辑框里面的文字变为斜体</span></span><br><span class="line">    <span class="comment"># def on_chkBoxItalic_clicked(self, checked):</span></span><br><span class="line">    <span class="comment">#     font = self.ui.textEdit.font()</span></span><br><span class="line">    <span class="comment">#     font.setItalic(checked)</span></span><br><span class="line">    <span class="comment">#     self.ui.textEdit.setFont(font)</span></span><br><span class="line">    <span class="comment">#</span></span><br><span class="line">    <span class="comment"># # 将编辑框里面的文字变为斜体</span></span><br><span class="line">    <span class="comment"># def on_chkBoxItalic_clicked(self):</span></span><br><span class="line">    <span class="comment">#     checked = self.ui.chkBoxItalix.isChecked()</span></span><br><span class="line">    <span class="comment">#     font = self.ui.textEdit.font()</span></span><br><span class="line">    <span class="comment">#     font.setItalic(checked)</span></span><br><span class="line">    <span class="comment">#     self.ui.textEdit.setFont(font)</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># 将编辑框里面的文字变为斜体</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">on_chkBoxItalix_toggled</span>(<span class="params">self, checked</span>):</span></span><br><span class="line">        font = self.ui.textEdit.font()</span><br><span class="line">        font.setItalic(checked)</span><br><span class="line">        self.ui.textEdit.setFont(font)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 将编辑框里面的内容加粗</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">on_chkBoxBold_toggled</span>(<span class="params">self, checked</span>):</span></span><br><span class="line">        font = self.ui.textEdit.font()</span><br><span class="line">        font.setBold(checked)  <span class="comment"># 参数checked表示勾选状态</span></span><br><span class="line">        self.ui.textEdit.setFont(font)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 清除编辑框里面的内容函数</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">on_btnClear_clicked</span>(<span class="params">self</span>):</span></span><br><span class="line">        self.ui.textEdit.clear()</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    app = QApplication(sys.argv)</span><br><span class="line">    form = QMyDialogSignalSlot()</span><br><span class="line">    form.show()</span><br><span class="line">    sys.exit(app.exec_())</span><br></pre></td></tr></table></figure>

<p>关于斜体部分，举了3种方式，都可以实现其效果，其中有一种是@pyqtSlot(bool)，这是overload型信号.</p>
<p>overload型信号的处理，在QCheckBox类组件中，有两个名称为clicked的信号.</p>
<p>一个是不带参数的clicked()信号，使用这个信号生成槽函数是可以自动关联的；</p>
<p>另一个是带参数的clicked(bool)信号，它将复选框的当前勾选状态作为参数传递给槽函数。</p>
<p>这种名称相同但参数个数或类型不同的信号就是overload型信号。</p>
</li>
<li><p>connectSlotsByName()函数进行信号与槽函数的关联时会使用一个默认的信号，对QCheckBox来说，默认使用的是不带参数的clicked()信号，而如果定义on_chkBoxItalic_clicked(self,checked)是需要传递进来一个参数的，那么如果想要使用这个槽函数，就需要使用@pyqtSlot修饰符，用这个修饰符将函数的参数类型声明清楚。这样，connectSlotsByName()函数就会自动使用clicked(bool)信号与这个槽函数关联，运行就没问题。</p>
</li>
</ol>
<h2 id="6-自定义型号与槽使用"><a href="#6-自定义型号与槽使用" class="headerlink" title="6. 自定义型号与槽使用"></a>6. 自定义型号与槽使用</h2><ol>
<li><p>例子代码<code>human.py</code></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> PyQt5.QtCore <span class="keyword">import</span> QObject, pyqtSignal</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Human</span>(<span class="params">QObject</span>):</span></span><br><span class="line"></span><br><span class="line">    nameChanged = pyqtSignal(<span class="built_in">str</span>)</span><br><span class="line"></span><br><span class="line">    ageChanged = pyqtSignal([<span class="built_in">int</span>],[<span class="built_in">str</span>])</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self,name=<span class="string">&quot;Mike&quot;</span>,age =<span class="number">10</span>,parent=<span class="literal">None</span></span>):</span></span><br><span class="line">        <span class="built_in">super</span>().__init__(parent)</span><br><span class="line">        self.setAge(age)</span><br><span class="line">        self.setName(name)</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">setAge</span>(<span class="params">self,age</span>):</span></span><br><span class="line">        self.__age = age</span><br><span class="line">        self.ageChanged.emit(self.__age)</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> age &lt;= <span class="number">18</span>:</span><br><span class="line">            age_info = <span class="string">&quot;你是 少年&quot;</span></span><br><span class="line">        <span class="keyword">elif</span> <span class="number">18</span> &lt; age &lt;= <span class="number">35</span>:</span><br><span class="line">            age_info = <span class="string">&quot;你是 年轻人&quot;</span></span><br><span class="line">        <span class="keyword">elif</span> <span class="number">35</span> &lt; age &lt;= <span class="number">55</span>:</span><br><span class="line">            age_info = <span class="string">&quot;你是 中年人&quot;</span></span><br><span class="line">        <span class="keyword">elif</span> <span class="number">55</span> &lt; age &lt;= <span class="number">80</span>:</span><br><span class="line">            age_info = <span class="string">&quot;您是 老人&quot;</span></span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            age_info = <span class="string">&quot;您是 寿星啊&quot;</span></span><br><span class="line">        self.ageChanged[<span class="built_in">str</span>].emit(age_info)</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">setName</span>(<span class="params">self,name</span>):</span></span><br><span class="line">        self.__name = name</span><br><span class="line">        self.nameChanged.emit(self.__name)</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Responsor</span>(<span class="params">QObject</span>):</span></span><br><span class="line">    <span class="comment"># @pyqtSlot(int)</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">do_ageChanged_int</span>(<span class="params">self,age</span>):</span></span><br><span class="line">        print(<span class="string">&quot;您的年龄是：&quot;</span> + <span class="built_in">str</span>(age))</span><br><span class="line"></span><br><span class="line">    <span class="comment"># @pyqtSlot(str)</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">do_ageChanged_str</span>(<span class="params">self,ageInfo</span>):</span></span><br><span class="line">        print(ageInfo)</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">do_nameChanged</span>(<span class="params">self,name</span>):</span></span><br><span class="line">        print(<span class="string">&quot;Hello, &quot;</span> + name)</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    print(<span class="string">&quot;**创建对象时**&quot;</span>)</span><br><span class="line">    boy = Human(<span class="string">&quot;Boy&quot;</span>,<span class="number">16</span>)</span><br><span class="line">    resp = Responsor()</span><br><span class="line">    boy.nameChanged.connect(resp.do_nameChanged)</span><br><span class="line"></span><br><span class="line">    boy.ageChanged.connect(resp.do_ageChanged_int)</span><br><span class="line">    boy.ageChanged[<span class="built_in">str</span>].connect(resp.do_ageChanged_str)</span><br><span class="line"></span><br><span class="line">    print(<span class="string">&quot;\n **建立关联后**&quot;</span>)</span><br><span class="line">    boy.setAge(<span class="number">35</span>)</span><br><span class="line">    boy.setName(<span class="string">&quot;Jack&quot;</span>)</span><br><span class="line"></span><br><span class="line">    boy.ageChanged[<span class="built_in">str</span>].disconnect(resp.do_ageChanged_str)</span><br><span class="line">    print(<span class="string">&quot;\n **断开ageChanged[str关联后**&quot;</span>)</span><br><span class="line">    boy.setAge(<span class="number">10</span>)</span><br><span class="line"></span><br></pre></td></tr></table></figure>
</li>
<li><p>信号的定义</p>
<p>定义的类Human是从QObject继承而来的，它定义了两个信号，两个信号都需要定义为类的属性。</p>
<p>nameChanged信号是带有一个str类型参数的信号，定义为nameChanged=pyqtSignal(str)</p>
<p>ageChanged信号是具有两种类型参数的overload型的信号，信号的参数类型可以是int，也可以是str。ageChanged信号定义为：ageChanged=pyqtSignal([int], [str])</p>
</li>
<li><p>信号的发射</p>
<p>通过信号的emit()函数发射信号。在类的某个状态发生变化，需要通知外部发生了这种变化时，发射相应的信号。如果信号关联了一个槽函数，就会执行槽函数，如果信号没有关联槽函数，就不会产生任何动作。</p>
</li>
<li><p>信号与槽的关联</p>
<p>另外定义的一个类Responsor也是从QObject继承而来的，它定义了三个函数，分别用于与Human类实例对象的信号建立关联。因为信号ageChanged有两种参数类型，要与两种参数的ageChanged信号建立关联，两个槽函数的名称必须不同，所以定义的两个槽函数名称分别是do_ageChanged_int和do_ageChanged_str。需要在创建类的具体实例后在进行信号与槽的关联，所以程序在测试部分先创建两个具体的对象。</p>
<p>boy=Human(“Boy”, 16)</p>
<p>resp=Responsor()</p>
<p>如果一个信号的名称是唯一的，即不是overload型信号，那么关联时无须列出信号的参数，例如，nameChanged信号的连接为boy.nameChanged.connect(resp.do_nameChanged)</p>
<p>对于overload型的信号，定义信号时的第一个位置的参数是默认参数。例如，ageChanged信号的定义是：ageChanged=pyqtSignal([int], [str])，所以，ageChanged信号的默认参数就是Int型。默认参数的信号关联无须标明参数类型，所以有：</p>
<p>boy.ageChanged.connect(resp.do_ageChanged_int)</p>
<p>但是对于另外一个非默认参数，必须在信号关联时在信号中注明参数，即：</p>
<p>boy.ageChanged[str].connect(resp.do_ageChanged_str)</p>
</li>
<li><p>断开信号与槽的关联</p>
<p>在程序中可以使用disconnect()函数断开信号与槽的关联，例如：boy.ageChanged[str].disconnect(resp.do_ageChanged_str)</p>
</li>
</ol>
<h2 id="12-尺寸策略"><a href="#12-尺寸策略" class="headerlink" title="12. 尺寸策略"></a>12. 尺寸策略</h2><p>在使用了Qt提供的四种布局之后, 如果要对其中的一些组件进行调整, 可以使用QWidget类中的sizePolicy这个属性,配合minimumSize和maxinumSize 和实现目前大部分的布局样式.</p>
<table>
<thead>
<tr>
<th>Policy</th>
<th>功能</th>
</tr>
</thead>
<tbody><tr>
<td>Fixed</td>
<td>指定宽高</td>
</tr>
<tr>
<td>minimum</td>
<td>最小值</td>
</tr>
<tr>
<td>maximum</td>
<td>最大值</td>
</tr>
<tr>
<td>Expanding</td>
<td>扩展,配合水平延伸(Horizontal Stretch)和垂直延伸(Vertical Stretch),可以实现按照比例进行分割</td>
</tr>
</tbody></table>
<h2 id="13-设置伙伴关系和Tab顺序"><a href="#13-设置伙伴关系和Tab顺序" class="headerlink" title="13. 设置伙伴关系和Tab顺序"></a>13. 设置伙伴关系和Tab顺序</h2><p>在工具栏上可以切换到对应的模式,编辑伙伴关系和tab 顺序</p>
<h2 id="7-常用界面组件的使用-QSlider和QProgressBar"><a href="#7-常用界面组件的使用-QSlider和QProgressBar" class="headerlink" title="7. 常用界面组件的使用(QSlider和QProgressBar)"></a>7. 常用界面组件的使用(QSlider和QProgressBar)</h2><ol>
<li><p>创建ui</p>
<p><img src="http://mediaqn.meitranslation.com/blog/image-20201203155713732.png"></p>
</li>
<li><p>编译成py文件</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># -*- coding: utf-8 -*-</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Form implementation generated from reading ui file &#x27;Form.ui&#x27;</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># Created by: PyQt5 UI code generator 5.10.1</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># WARNING! All changes made in this file will be lost!</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">from</span> PyQt5 <span class="keyword">import</span> QtCore, QtGui, QtWidgets</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Ui_Form</span>(<span class="params"><span class="built_in">object</span></span>):</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">setupUi</span>(<span class="params">self, Form</span>):</span></span><br><span class="line">        Form.setObjectName(<span class="string">&quot;Form&quot;</span>)</span><br><span class="line">        Form.resize(<span class="number">726</span>, <span class="number">468</span>)</span><br><span class="line">        self.verticalLayout = QtWidgets.QVBoxLayout(Form)</span><br><span class="line">        self.verticalLayout.setObjectName(<span class="string">&quot;verticalLayout&quot;</span>)</span><br><span class="line">        self.groupBox = QtWidgets.QGroupBox(Form)</span><br><span class="line">        self.groupBox.setTitle(<span class="string">&quot;&quot;</span>)</span><br><span class="line">        self.groupBox.setObjectName(<span class="string">&quot;groupBox&quot;</span>)</span><br><span class="line">        self.verticalLayout_2 = QtWidgets.QVBoxLayout(self.groupBox)</span><br><span class="line">        self.verticalLayout_2.setObjectName(<span class="string">&quot;verticalLayout_2&quot;</span>)</span><br><span class="line">        self.horizontalLayout_3 = QtWidgets.QHBoxLayout()</span><br><span class="line">        self.horizontalLayout_3.setSizeConstraint(QtWidgets.QLayout.SetDefaultConstraint)</span><br><span class="line">        self.horizontalLayout_3.setObjectName(<span class="string">&quot;horizontalLayout_3&quot;</span>)</span><br><span class="line">        self.label = QtWidgets.QLabel(self.groupBox)</span><br><span class="line">        sizePolicy = QtWidgets.QSizePolicy(QtWidgets.QSizePolicy.Ignored, QtWidgets.QSizePolicy.Preferred)</span><br><span class="line">        sizePolicy.setHorizontalStretch(<span class="number">0</span>)</span><br><span class="line">        sizePolicy.setVerticalStretch(<span class="number">0</span>)</span><br><span class="line">        sizePolicy.setHeightForWidth(self.label.sizePolicy().hasHeightForWidth())</span><br><span class="line">        self.label.setSizePolicy(sizePolicy)</span><br><span class="line">        self.label.setAlignment(QtCore.Qt.AlignCenter)</span><br><span class="line">        self.label.setIndent(-<span class="number">1</span>)</span><br><span class="line">        self.label.setObjectName(<span class="string">&quot;label&quot;</span>)</span><br><span class="line">        self.horizontalLayout_3.addWidget(self.label)</span><br><span class="line">        self.horizontalSlider = QtWidgets.QSlider(self.groupBox)</span><br><span class="line">        sizePolicy = QtWidgets.QSizePolicy(QtWidgets.QSizePolicy.Ignored, QtWidgets.QSizePolicy.Fixed)</span><br><span class="line">        sizePolicy.setHorizontalStretch(<span class="number">0</span>)</span><br><span class="line">        sizePolicy.setVerticalStretch(<span class="number">0</span>)</span><br><span class="line">        sizePolicy.setHeightForWidth(self.horizontalSlider.sizePolicy().hasHeightForWidth())</span><br><span class="line">        self.horizontalSlider.setSizePolicy(sizePolicy)</span><br><span class="line">        self.horizontalSlider.setOrientation(QtCore.Qt.Horizontal)</span><br><span class="line">        self.horizontalSlider.setObjectName(<span class="string">&quot;horizontalSlider&quot;</span>)</span><br><span class="line">        self.horizontalLayout_3.addWidget(self.horizontalSlider)</span><br><span class="line">        self.verticalLayout_2.addLayout(self.horizontalLayout_3)</span><br><span class="line">        self.horizontalLayout_2 = QtWidgets.QHBoxLayout()</span><br><span class="line">        self.horizontalLayout_2.setObjectName(<span class="string">&quot;horizontalLayout_2&quot;</span>)</span><br><span class="line">        self.label_2 = QtWidgets.QLabel(self.groupBox)</span><br><span class="line">        sizePolicy = QtWidgets.QSizePolicy(QtWidgets.QSizePolicy.Ignored, QtWidgets.QSizePolicy.Preferred)</span><br><span class="line">        sizePolicy.setHorizontalStretch(<span class="number">0</span>)</span><br><span class="line">        sizePolicy.setVerticalStretch(<span class="number">0</span>)</span><br><span class="line">        sizePolicy.setHeightForWidth(self.label_2.sizePolicy().hasHeightForWidth())</span><br><span class="line">        self.label_2.setSizePolicy(sizePolicy)</span><br><span class="line">        self.label_2.setAlignment(QtCore.Qt.AlignCenter)</span><br><span class="line">        self.label_2.setObjectName(<span class="string">&quot;label_2&quot;</span>)</span><br><span class="line">        self.horizontalLayout_2.addWidget(self.label_2)</span><br><span class="line">        self.horizontalScrollBar = QtWidgets.QScrollBar(self.groupBox)</span><br><span class="line">        sizePolicy = QtWidgets.QSizePolicy(QtWidgets.QSizePolicy.Ignored, QtWidgets.QSizePolicy.Fixed)</span><br><span class="line">        sizePolicy.setHorizontalStretch(<span class="number">0</span>)</span><br><span class="line">        sizePolicy.setVerticalStretch(<span class="number">0</span>)</span><br><span class="line">        sizePolicy.setHeightForWidth(self.horizontalScrollBar.sizePolicy().hasHeightForWidth())</span><br><span class="line">        self.horizontalScrollBar.setSizePolicy(sizePolicy)</span><br><span class="line">        self.horizontalScrollBar.setOrientation(QtCore.Qt.Horizontal)</span><br><span class="line">        self.horizontalScrollBar.setObjectName(<span class="string">&quot;horizontalScrollBar&quot;</span>)</span><br><span class="line">        self.horizontalLayout_2.addWidget(self.horizontalScrollBar)</span><br><span class="line">        self.verticalLayout_2.addLayout(self.horizontalLayout_2)</span><br><span class="line">        self.horizontalLayout = QtWidgets.QHBoxLayout()</span><br><span class="line">        self.horizontalLayout.setObjectName(<span class="string">&quot;horizontalLayout&quot;</span>)</span><br><span class="line">        self.label_3 = QtWidgets.QLabel(self.groupBox)</span><br><span class="line">        sizePolicy = QtWidgets.QSizePolicy(QtWidgets.QSizePolicy.Ignored, QtWidgets.QSizePolicy.Preferred)</span><br><span class="line">        sizePolicy.setHorizontalStretch(<span class="number">0</span>)</span><br><span class="line">        sizePolicy.setVerticalStretch(<span class="number">0</span>)</span><br><span class="line">        sizePolicy.setHeightForWidth(self.label_3.sizePolicy().hasHeightForWidth())</span><br><span class="line">        self.label_3.setSizePolicy(sizePolicy)</span><br><span class="line">        self.label_3.setAlignment(QtCore.Qt.AlignCenter)</span><br><span class="line">        self.label_3.setObjectName(<span class="string">&quot;label_3&quot;</span>)</span><br><span class="line">        self.horizontalLayout.addWidget(self.label_3)</span><br><span class="line">        self.progressBar = QtWidgets.QProgressBar(self.groupBox)</span><br><span class="line">        sizePolicy = QtWidgets.QSizePolicy(QtWidgets.QSizePolicy.Ignored, QtWidgets.QSizePolicy.Fixed)</span><br><span class="line">        sizePolicy.setHorizontalStretch(<span class="number">0</span>)</span><br><span class="line">        sizePolicy.setVerticalStretch(<span class="number">0</span>)</span><br><span class="line">        sizePolicy.setHeightForWidth(self.progressBar.sizePolicy().hasHeightForWidth())</span><br><span class="line">        self.progressBar.setSizePolicy(sizePolicy)</span><br><span class="line">        self.progressBar.setProperty(<span class="string">&quot;value&quot;</span>, <span class="number">24</span>)</span><br><span class="line">        self.progressBar.setObjectName(<span class="string">&quot;progressBar&quot;</span>)</span><br><span class="line">        self.horizontalLayout.addWidget(self.progressBar)</span><br><span class="line">        self.verticalLayout_2.addLayout(self.horizontalLayout)</span><br><span class="line">        self.verticalLayout.addWidget(self.groupBox)</span><br><span class="line">        self.groupBoxSettings = QtWidgets.QGroupBox(Form)</span><br><span class="line">        self.groupBoxSettings.setObjectName(<span class="string">&quot;groupBoxSettings&quot;</span>)</span><br><span class="line">        self.gridLayout = QtWidgets.QGridLayout(self.groupBoxSettings)</span><br><span class="line">        self.gridLayout.setObjectName(<span class="string">&quot;gridLayout&quot;</span>)</span><br><span class="line">        self.checkBox = QtWidgets.QCheckBox(self.groupBoxSettings)</span><br><span class="line">        self.checkBox.setObjectName(<span class="string">&quot;checkBox&quot;</span>)</span><br><span class="line">        self.gridLayout.addWidget(self.checkBox, <span class="number">0</span>, <span class="number">0</span>, <span class="number">1</span>, <span class="number">1</span>)</span><br><span class="line">        self.checkBox_2 = QtWidgets.QCheckBox(self.groupBoxSettings)</span><br><span class="line">        self.checkBox_2.setObjectName(<span class="string">&quot;checkBox_2&quot;</span>)</span><br><span class="line">        self.gridLayout.addWidget(self.checkBox_2, <span class="number">0</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>)</span><br><span class="line">        self.radioButton = QtWidgets.QRadioButton(self.groupBoxSettings)</span><br><span class="line">        self.radioButton.setObjectName(<span class="string">&quot;radioButton&quot;</span>)</span><br><span class="line">        self.gridLayout.addWidget(self.radioButton, <span class="number">1</span>, <span class="number">0</span>, <span class="number">1</span>, <span class="number">1</span>)</span><br><span class="line">        self.radioButton_2 = QtWidgets.QRadioButton(self.groupBoxSettings)</span><br><span class="line">        self.radioButton_2.setObjectName(<span class="string">&quot;radioButton_2&quot;</span>)</span><br><span class="line">        self.gridLayout.addWidget(self.radioButton_2, <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>)</span><br><span class="line">        self.verticalLayout.addWidget(self.groupBoxSettings)</span><br><span class="line"></span><br><span class="line">        self.retranslateUi(Form)</span><br><span class="line">        QtCore.QMetaObject.connectSlotsByName(Form)</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">retranslateUi</span>(<span class="params">self, Form</span>):</span></span><br><span class="line">        _translate = QtCore.QCoreApplication.translate</span><br><span class="line">        Form.setWindowTitle(_translate(<span class="string">&quot;Form&quot;</span>, <span class="string">&quot;Form&quot;</span>))</span><br><span class="line">        self.label.setText(_translate(<span class="string">&quot;Form&quot;</span>, <span class="string">&quot;Slider&quot;</span>))</span><br><span class="line">        self.label_2.setText(_translate(<span class="string">&quot;Form&quot;</span>, <span class="string">&quot;ScollBar&quot;</span>))</span><br><span class="line">        self.label_3.setText(_translate(<span class="string">&quot;Form&quot;</span>, <span class="string">&quot;ProcessBar&quot;</span>))</span><br><span class="line">        self.groupBoxSettings.setTitle(_translate(<span class="string">&quot;Form&quot;</span>, <span class="string">&quot;ProcessBar设置&quot;</span>))</span><br><span class="line">        self.checkBox.setText(_translate(<span class="string">&quot;Form&quot;</span>, <span class="string">&quot;textVisible&quot;</span>))</span><br><span class="line">        self.checkBox_2.setText(_translate(<span class="string">&quot;Form&quot;</span>, <span class="string">&quot;InvertedAppearance&quot;</span>))</span><br><span class="line">        self.radioButton.setText(_translate(<span class="string">&quot;Form&quot;</span>, <span class="string">&quot;显示格式--百分比&quot;</span>))</span><br><span class="line">        self.radioButton_2.setText(_translate(<span class="string">&quot;Form&quot;</span>, <span class="string">&quot;显示格式--当前值&quot;</span>))</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>



</li>
</ol>
<ol start="3">
<li><p>创建逻辑类,定义自定义信号和槽</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> sys</span><br><span class="line"><span class="keyword">from</span> PyQt5.QtCore <span class="keyword">import</span> pyqtSlot</span><br><span class="line"><span class="keyword">from</span> PyQt5.QtWidgets <span class="keyword">import</span> QWidget, QApplication</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> Form</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">QMyWidget</span>(<span class="params">QWidget</span>):</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self,parent=<span class="literal">None</span></span>):</span></span><br><span class="line">        <span class="built_in">super</span>().__init__(parent)</span><br><span class="line">        self.ui = Form.Ui_Form()</span><br><span class="line">        self.ui.setupUi(self)</span><br><span class="line"></span><br><span class="line">        self.ui.horizontalSlider.setMaximum(<span class="number">200</span>)</span><br><span class="line">        self.ui.horizontalScrollBar.setMaximum(<span class="number">200</span>)</span><br><span class="line">        self.ui.progressBar.setMaximum(<span class="number">200</span>)</span><br><span class="line"></span><br><span class="line">        <span class="comment"># self.ui.progressBar.setStyleSheet(&quot;QProgressBar::chunk &#123; background-color: rgb(255, 0, 0)&#125;&quot;)</span></span><br><span class="line">        self.ui.progressBar.setStyleSheet(<span class="string">&quot;QProgressBar::chunk &#123; background-color: rgb(255, 0, 0)&#125;&quot;</span></span><br><span class="line">                                          <span class="string">&quot;QProgressBar&#123;text-align: center&#125;&quot;</span>)</span><br><span class="line"></span><br><span class="line">        <span class="comment"># self.ui.progressBar.setStyleSheet(&quot;QProgressBar&#123;text-align: center;&#125;&quot;)</span></span><br><span class="line">        self.ui.horizontalSlider.valueChanged.connect(self.do_valueChanged)</span><br><span class="line">        self.ui.horizontalScrollBar.valueChanged.connect(self.do_valueChanged)</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">on_radioButton_clicked</span>(<span class="params">self</span>):</span></span><br><span class="line">        self.ui.progressBar.setFormat(<span class="string">&quot;%p%&quot;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">on_radioButton_2_clicked</span>(<span class="params">self</span>):</span></span><br><span class="line">        self.ui.progressBar.setFormat(<span class="string">&quot;%v&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="meta">    @pyqtSlot(<span class="params"><span class="built_in">bool</span></span>)</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">on_checkBox_clicked</span>(<span class="params">self,checked</span>):</span></span><br><span class="line">        self.ui.progressBar.setTextVisible(checked)</span><br><span class="line"></span><br><span class="line"><span class="meta">    @pyqtSlot(<span class="params"><span class="built_in">bool</span></span>)</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">on_checkBox_2_clicked</span>(<span class="params">self,checked</span>):</span></span><br><span class="line">        self.ui.progressBar.setInvertedAppearance(checked)</span><br><span class="line"></span><br><span class="line">    <span class="comment">#自定义槽函数</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">do_valueChanged</span>(<span class="params">self,value</span>):</span></span><br><span class="line">        self.ui.progressBar.setValue(value)</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    app = QApplication(sys.argv)</span><br><span class="line">    form = QMyWidget()</span><br><span class="line">    form.show()</span><br><span class="line">    sys.exit(app.exec_())</span><br></pre></td></tr></table></figure>
</li>
<li><p>QSlider和QScrollerBar</p>
<p>都是从QAbstractSlider类继承来的，拥有一些相同的属性</p>
<ol>
<li>minimum 和 maximum：输入范围的最小值和最大值</li>
<li>singleStep：单步长，拖动标尺上的滑块，或按下左/右键时的最小变化数值。</li>
<li>pageStep：输入焦点在组件上时，按PgUp或PgDn键时变化的数值。</li>
<li>value：组件的当前值，拖动滑块时自动改变此值，并限定在minimum和maximum定义的范围之类。</li>
<li>sliderPosition：滑块的位置，若tracking属性设置为True，sliderPosition就等于value。</li>
<li>tracking：sliderPosition是否等同于value，如果tracking设置为True，改变value时也同时改变sliderPosition。</li>
<li>orientation：Slider或ScollBar的方向，可以设置为水平或垂直。方向参数是枚举类型Qt.Orientation，其值包括Qt.Orientation(水平方向)，Qt.Vertical(垂直方向)。</li>
<li>invertedAppearance：显示方式是否反向，若invertedAppearance设置为False，水平的Slider由左向右数值逐渐增大，否则反过来。</li>
<li>invertedControls：反向按键控制，若invertedControls设置为True，则按下PgUp或PgDn键时调整数值的方向相反。</li>
</ol>
</li>
<li><p>Slider的专有属性有两个</p>
<ol>
<li>tickPosition 标尺刻度的显示位置，使用枚举类型QSlider.TickPosition<ol>
<li>QSlider.NoTicks（不显示刻度）</li>
<li>QSlider.TicksBothSides（标尺两侧都显示刻度）</li>
<li>QSlider.TicksAbove（标尺上方显示刻度）</li>
<li>QSlider.TicksBelow（标尺下方显示刻度）</li>
<li>QSlider.TicksLeft（标尺左侧显示刻度）</li>
<li>QSlider.TicksRight（标尺右侧显示刻度）</li>
</ol>
</li>
<li>tickInterval 标尺刻度的间隔值，若设置为0，会在singleStep和pageStep之间自动选择。</li>
</ol>
</li>
<li><p>QSlider和QScollBar最常用的一个信号是valueChanged(int)，在拖动滑块改变当前值时就会发射这个信号。</p>
</li>
<li><p>QProcessBar的父类是QWidget，一般用于进度显示，常用的属性有以下几个：</p>
<ol>
<li><p>minimum和maximum：最小值和最大值</p>
</li>
<li><p>value：当前值</p>
</li>
<li><p>textVisible：是否显示文字，文字一般是百分比表示的进度</p>
</li>
<li><p>orientation：可以设置为水平或垂直方向。</p>
</li>
<li><p>format：显示文字的格式，“%p%”显示百分比，“%v”显示当前值，“%m”显示总步数。默认是“%p%”</p>
</li>
<li><p>关于进度条颜色和百分比位置的部分：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">self.ui.progressBar.setStyleSheet(<span class="string">&quot;QProgressBar::chunk &#123; background-color: rgb(255, 0, 0)&#125;&quot;</span></span><br><span class="line">                                          <span class="string">&quot;QProgressBar&#123;text-align: center&#125;&quot;</span>)</span><br></pre></td></tr></table></figure>



</li>
</ol>
</li>
</ol>
<h2 id="8-日期和时间数据"><a href="#8-日期和时间数据" class="headerlink" title="8.日期和时间数据"></a>8.日期和时间数据</h2><ol>
<li><p>创建ui</p>
<p><img src="http://mediaqn.meitranslation.com/blog/image-20201203173121144.png"></p>
</li>
<li><p>ui转换py</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># -*- coding: utf-8 -*-</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Form implementation generated from reading ui file &#x27;DateForm.ui&#x27;</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># Created by: PyQt5 UI code generator 5.10.1</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># WARNING! All changes made in this file will be lost!</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">from</span> PyQt5 <span class="keyword">import</span> QtCore, QtGui, QtWidgets</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Ui_Form</span>(<span class="params"><span class="built_in">object</span></span>):</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">setupUi</span>(<span class="params">self, Form</span>):</span></span><br><span class="line">        Form.setObjectName(<span class="string">&quot;Form&quot;</span>)</span><br><span class="line">        Form.resize(<span class="number">800</span>, <span class="number">410</span>)</span><br><span class="line">        self.horizontalLayout = QtWidgets.QHBoxLayout(Form)</span><br><span class="line">        self.horizontalLayout.setObjectName(<span class="string">&quot;horizontalLayout&quot;</span>)</span><br><span class="line">        self.groupBox = QtWidgets.QGroupBox(Form)</span><br><span class="line">        self.groupBox.setObjectName(<span class="string">&quot;groupBox&quot;</span>)</span><br><span class="line">        self.verticalLayout_2 = QtWidgets.QVBoxLayout(self.groupBox)</span><br><span class="line">        self.verticalLayout_2.setObjectName(<span class="string">&quot;verticalLayout_2&quot;</span>)</span><br><span class="line">        self.btnGetTime = QtWidgets.QPushButton(self.groupBox)</span><br><span class="line">        self.btnGetTime.setObjectName(<span class="string">&quot;btnGetTime&quot;</span>)</span><br><span class="line">        self.verticalLayout_2.addWidget(self.btnGetTime)</span><br><span class="line">        self.splitter = QtWidgets.QSplitter(self.groupBox)</span><br><span class="line">        self.splitter.setOrientation(QtCore.Qt.Horizontal)</span><br><span class="line">        self.splitter.setObjectName(<span class="string">&quot;splitter&quot;</span>)</span><br><span class="line">        self.label_2 = QtWidgets.QLabel(self.splitter)</span><br><span class="line">        self.label_2.setObjectName(<span class="string">&quot;label_2&quot;</span>)</span><br><span class="line">        self.timeEdit = QtWidgets.QTimeEdit(self.splitter)</span><br><span class="line">        self.timeEdit.setObjectName(<span class="string">&quot;timeEdit&quot;</span>)</span><br><span class="line">        self.editTime = QtWidgets.QLineEdit(self.splitter)</span><br><span class="line">        self.editTime.setObjectName(<span class="string">&quot;editTime&quot;</span>)</span><br><span class="line">        self.verticalLayout_2.addWidget(self.splitter)</span><br><span class="line">        self.btnSetTime = QtWidgets.QPushButton(self.groupBox)</span><br><span class="line">        self.btnSetTime.setObjectName(<span class="string">&quot;btnSetTime&quot;</span>)</span><br><span class="line">        self.verticalLayout_2.addWidget(self.btnSetTime)</span><br><span class="line">        self.splitter_2 = QtWidgets.QSplitter(self.groupBox)</span><br><span class="line">        self.splitter_2.setOrientation(QtCore.Qt.Horizontal)</span><br><span class="line">        self.splitter_2.setObjectName(<span class="string">&quot;splitter_2&quot;</span>)</span><br><span class="line">        self.label_3 = QtWidgets.QLabel(self.splitter_2)</span><br><span class="line">        self.label_3.setObjectName(<span class="string">&quot;label_3&quot;</span>)</span><br><span class="line">        self.dateEdit = QtWidgets.QDateEdit(self.splitter_2)</span><br><span class="line">        self.dateEdit.setObjectName(<span class="string">&quot;dateEdit&quot;</span>)</span><br><span class="line">        self.editDate = QtWidgets.QLineEdit(self.splitter_2)</span><br><span class="line">        self.editDate.setObjectName(<span class="string">&quot;editDate&quot;</span>)</span><br><span class="line">        self.verticalLayout_2.addWidget(self.splitter_2)</span><br><span class="line">        self.btnSetDate = QtWidgets.QPushButton(self.groupBox)</span><br><span class="line">        self.btnSetDate.setObjectName(<span class="string">&quot;btnSetDate&quot;</span>)</span><br><span class="line">        self.verticalLayout_2.addWidget(self.btnSetDate)</span><br><span class="line">        self.splitter_3 = QtWidgets.QSplitter(self.groupBox)</span><br><span class="line">        self.splitter_3.setOrientation(QtCore.Qt.Horizontal)</span><br><span class="line">        self.splitter_3.setObjectName(<span class="string">&quot;splitter_3&quot;</span>)</span><br><span class="line">        self.label_4 = QtWidgets.QLabel(self.splitter_3)</span><br><span class="line">        self.label_4.setObjectName(<span class="string">&quot;label_4&quot;</span>)</span><br><span class="line">        self.dateTimeEdit = QtWidgets.QDateTimeEdit(self.splitter_3)</span><br><span class="line">        self.dateTimeEdit.setObjectName(<span class="string">&quot;dateTimeEdit&quot;</span>)</span><br><span class="line">        self.editDateTime = QtWidgets.QLineEdit(self.splitter_3)</span><br><span class="line">        self.editDateTime.setObjectName(<span class="string">&quot;editDateTime&quot;</span>)</span><br><span class="line">        self.verticalLayout_2.addWidget(self.splitter_3)</span><br><span class="line">        self.btnSetDateTime = QtWidgets.QPushButton(self.groupBox)</span><br><span class="line">        self.btnSetDateTime.setObjectName(<span class="string">&quot;btnSetDateTime&quot;</span>)</span><br><span class="line">        self.verticalLayout_2.addWidget(self.btnSetDateTime)</span><br><span class="line">        self.horizontalLayout.addWidget(self.groupBox)</span><br><span class="line">        self.groupBox_2 = QtWidgets.QGroupBox(Form)</span><br><span class="line">        self.groupBox_2.setObjectName(<span class="string">&quot;groupBox_2&quot;</span>)</span><br><span class="line">        self.verticalLayout = QtWidgets.QVBoxLayout(self.groupBox_2)</span><br><span class="line">        self.verticalLayout.setObjectName(<span class="string">&quot;verticalLayout&quot;</span>)</span><br><span class="line">        self.horizontalLayout_2 = QtWidgets.QHBoxLayout()</span><br><span class="line">        self.horizontalLayout_2.setObjectName(<span class="string">&quot;horizontalLayout_2&quot;</span>)</span><br><span class="line">        self.label = QtWidgets.QLabel(self.groupBox_2)</span><br><span class="line">        self.label.setObjectName(<span class="string">&quot;label&quot;</span>)</span><br><span class="line">        self.horizontalLayout_2.addWidget(self.label)</span><br><span class="line">        self.editCalendar = QtWidgets.QLineEdit(self.groupBox_2)</span><br><span class="line">        self.editCalendar.setInputMask(<span class="string">&quot;&quot;</span>)</span><br><span class="line">        self.editCalendar.setObjectName(<span class="string">&quot;editCalendar&quot;</span>)</span><br><span class="line">        self.horizontalLayout_2.addWidget(self.editCalendar)</span><br><span class="line">        self.verticalLayout.addLayout(self.horizontalLayout_2)</span><br><span class="line">        self.calendarWidget = QtWidgets.QCalendarWidget(self.groupBox_2)</span><br><span class="line">        self.calendarWidget.setObjectName(<span class="string">&quot;calendarWidget&quot;</span>)</span><br><span class="line">        self.verticalLayout.addWidget(self.calendarWidget)</span><br><span class="line">        self.horizontalLayout.addWidget(self.groupBox_2)</span><br><span class="line"></span><br><span class="line">        self.retranslateUi(Form)</span><br><span class="line">        QtCore.QMetaObject.connectSlotsByName(Form)</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">retranslateUi</span>(<span class="params">self, Form</span>):</span></span><br><span class="line">        _translate = QtCore.QCoreApplication.translate</span><br><span class="line">        Form.setWindowTitle(_translate(<span class="string">&quot;Form&quot;</span>, <span class="string">&quot;Form&quot;</span>))</span><br><span class="line">        self.groupBox.setTitle(_translate(<span class="string">&quot;Form&quot;</span>, <span class="string">&quot;日期时间&quot;</span>))</span><br><span class="line">        self.btnGetTime.setText(_translate(<span class="string">&quot;Form&quot;</span>, <span class="string">&quot;读取当前日期时间&quot;</span>))</span><br><span class="line">        self.label_2.setText(_translate(<span class="string">&quot;Form&quot;</span>, <span class="string">&quot;时间&quot;</span>))</span><br><span class="line">        self.timeEdit.setDisplayFormat(_translate(<span class="string">&quot;Form&quot;</span>, <span class="string">&quot;H:mm:ss&quot;</span>))</span><br><span class="line">        self.editTime.setInputMask(_translate(<span class="string">&quot;Form&quot;</span>, <span class="string">&quot;99:99:99&quot;</span>))</span><br><span class="line">        self.btnSetTime.setText(_translate(<span class="string">&quot;Form&quot;</span>, <span class="string">&quot;设置时间&quot;</span>))</span><br><span class="line">        self.label_3.setText(_translate(<span class="string">&quot;Form&quot;</span>, <span class="string">&quot;日期&quot;</span>))</span><br><span class="line">        self.dateEdit.setDisplayFormat(_translate(<span class="string">&quot;Form&quot;</span>, <span class="string">&quot;yyyy年M月d日&quot;</span>))</span><br><span class="line">        self.editDate.setInputMask(_translate(<span class="string">&quot;Form&quot;</span>, <span class="string">&quot;9999-99-99&quot;</span>))</span><br><span class="line">        self.btnSetDate.setText(_translate(<span class="string">&quot;Form&quot;</span>, <span class="string">&quot;设置日期&quot;</span>))</span><br><span class="line">        self.label_4.setText(_translate(<span class="string">&quot;Form&quot;</span>, <span class="string">&quot;日期时间&quot;</span>))</span><br><span class="line">        self.dateTimeEdit.setDisplayFormat(_translate(<span class="string">&quot;Form&quot;</span>, <span class="string">&quot;yyyy-M-d H:mm:ss&quot;</span>))</span><br><span class="line">        self.editDateTime.setInputMask(_translate(<span class="string">&quot;Form&quot;</span>, <span class="string">&quot;9999-99-99 99:99:99&quot;</span>))</span><br><span class="line">        self.btnSetDateTime.setText(_translate(<span class="string">&quot;Form&quot;</span>, <span class="string">&quot;设置日期时间&quot;</span>))</span><br><span class="line">        self.groupBox_2.setTitle(_translate(<span class="string">&quot;Form&quot;</span>, <span class="string">&quot;日历选择&quot;</span>))</span><br><span class="line">        self.label.setText(_translate(<span class="string">&quot;Form&quot;</span>, <span class="string">&quot;选择的日期：&quot;</span>))</span><br><span class="line"></span><br></pre></td></tr></table></figure>
</li>
<li><p>业务逻辑类</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> sys</span><br><span class="line"></span><br><span class="line"><span class="keyword">from</span> PyQt5.QtCore <span class="keyword">import</span> QDateTime, QTime, QDate</span><br><span class="line"><span class="keyword">from</span> PyQt5.QtWidgets <span class="keyword">import</span> QWidget, QApplication</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> DateForm</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">QMyWidget</span>(<span class="params">QWidget</span>):</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self,parent=<span class="literal">None</span></span>):</span></span><br><span class="line">        <span class="built_in">super</span>().__init__(parent)</span><br><span class="line">        self.ui = DateForm.Ui_Form()</span><br><span class="line">        self.ui.setupUi(self)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># # ============由connectSlotByName() 自动关联的槽函数 ======================</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">on_btnGetTime_clicked</span>(<span class="params">self</span>):</span></span><br><span class="line">        curDateTime = QDateTime.currentDateTime()</span><br><span class="line">        self.ui.timeEdit.setTime(curDateTime.time())</span><br><span class="line">        self.ui.editTime.setText(curDateTime.toString(<span class="string">&quot;hh:mm:ss&quot;</span>))</span><br><span class="line">        self.ui.dateEdit.setDate(curDateTime.date())</span><br><span class="line">        self.ui.editDate.setText(curDateTime.toString(<span class="string">&quot;yyyy-MM-dd&quot;</span>))</span><br><span class="line">        self.ui.dateTimeEdit.setDateTime(curDateTime)</span><br><span class="line">        self.ui.editDateTime.setText(curDateTime.toString(<span class="string">&quot;yyyy-MM-dd hh:mm:ss&quot;</span>))</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">on_calendarWidget_selectionChanged</span>(<span class="params">self</span>):</span></span><br><span class="line">        date = self.ui.calendarWidget.selectedDate()</span><br><span class="line">        self.ui.editCalendar.setText(date.toString(<span class="string">&quot;yyyy年M月d日&quot;</span>))</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">on_btnSetTime_clicked</span>(<span class="params">self</span>):</span>  <span class="comment"># 设置时间按钮</span></span><br><span class="line">        tmStr = self.ui.editTime.text()</span><br><span class="line">        tm = QTime.fromString(tmStr, <span class="string">&quot;hh:mm:ss&quot;</span>)</span><br><span class="line">        self.ui.timeEdit.setTime(tm)</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">on_btnSetDate_clicked</span>(<span class="params">self</span>):</span>  <span class="comment"># 设置日期按钮</span></span><br><span class="line">        dtStr = self.ui.editDate.text()</span><br><span class="line">        dt = QDate.fromString(dtStr, <span class="string">&quot;yyyy-MM-dd&quot;</span>)</span><br><span class="line">        self.ui.dateEdit.setDate(dt)</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">on_btnSetDateTime_clicked</span>(<span class="params">self</span>):</span></span><br><span class="line">        dttmStr = self.ui.editDateTime.text()</span><br><span class="line">        dttm = QDateTime.fromString(dttmStr, <span class="string">&quot;yyyy-MM-dd hh:mm:ss&quot;</span>)</span><br><span class="line">        self.ui.dateTimeEdit.setDateTime(dttm)</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&quot;__main__&quot;</span>:</span><br><span class="line">    app = QApplication(sys.argv)  <span class="comment"># 创建app，用QApplication类</span></span><br><span class="line">    form = QMyWidget()</span><br><span class="line">    form.show()</span><br><span class="line">    sys.exit(app.exec_())</span><br></pre></td></tr></table></figure>
</li>
<li><p>类解析</p>
<ol>
<li>QTime：时间数据类型，仅表示时间。displayFormat设置为H:mm:ss。如15:21:13</li>
<li>QDate：日期数据类型，仅表示日期。如2018-5-6</li>
<li>QDateTime：日期时间数据类型，表示日期和时间，如2018-05-23 09:12:43</li>
</ol>
</li>
<li><p>组件</p>
<ol>
<li><p>QTimeEdit：编辑和显示时间的组件</p>
</li>
<li><p>QDateEdit：编辑和显示日期的组件。若calendarPopup属性设置为True，运行时右侧按钮变成下拉按钮，单击按钮时出现一个日历选择框，用于在日历上选择日期。</p>
</li>
<li><p>QDateTimeEdit：编辑和显示日期时间的组件，也有calendarPopup属性。</p>
</li>
<li><p>QCalendarWidget：一个用日历形式选择日期的组件，在日历上点击日期发生变化时发射信号selectionChanged()，可响应此信号读取选择的日期。</p>
</li>
<li><p>为了限定QLineEdit的输入符合某些格式，可以设置其inputMask属性</p>
<table>
<thead>
<tr>
<th>组件</th>
<th>input Mask</th>
<th>意义</th>
</tr>
</thead>
<tbody><tr>
<td>editTime</td>
<td>99:99:99</td>
<td>只能输入0到9的数字，空格用“_”显示</td>
</tr>
<tr>
<td>editDate</td>
<td>9999-99-99</td>
<td>只能输入0到9的数字</td>
</tr>
<tr>
<td>editDateTime</td>
<td>9999-99-99 99:99:99</td>
<td>只能输入0到9的数字</td>
</tr>
</tbody></table>
</li>
</ol>
</li>
</ol>
<h2 id="9-定时器和计时器"><a href="#9-定时器和计时器" class="headerlink" title="9. 定时器和计时器"></a>9. 定时器和计时器</h2><ol>
<li><p>创建ui</p>
<p><img src="http://mediaqn.meitranslation.com/blog/image-20201204114703071.png" alt="image-20201204114703071"></p>
</li>
<li><p>把ui文件转换成py文件</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># -*- coding: utf-8 -*-</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Form implementation generated from reading ui file &#x27;Timer.ui&#x27;</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># Created by: PyQt5 UI code generator 5.10.1</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># WARNING! All changes made in this file will be lost!</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">from</span> PyQt5 <span class="keyword">import</span> QtCore, QtGui, QtWidgets</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Ui_Form</span>(<span class="params"><span class="built_in">object</span></span>):</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">setupUi</span>(<span class="params">self, Form</span>):</span></span><br><span class="line">        Form.setObjectName(<span class="string">&quot;Form&quot;</span>)</span><br><span class="line">        Form.resize(<span class="number">400</span>, <span class="number">300</span>)</span><br><span class="line">        self.verticalLayout = QtWidgets.QVBoxLayout(Form)</span><br><span class="line">        self.verticalLayout.setObjectName(<span class="string">&quot;verticalLayout&quot;</span>)</span><br><span class="line">        self.groupBox = QtWidgets.QGroupBox(Form)</span><br><span class="line">        self.groupBox.setObjectName(<span class="string">&quot;groupBox&quot;</span>)</span><br><span class="line">        self.gridLayout = QtWidgets.QGridLayout(self.groupBox)</span><br><span class="line">        self.gridLayout.setObjectName(<span class="string">&quot;gridLayout&quot;</span>)</span><br><span class="line">        self.btnStart = QtWidgets.QPushButton(self.groupBox)</span><br><span class="line">        self.btnStart.setObjectName(<span class="string">&quot;btnStart&quot;</span>)</span><br><span class="line">        self.gridLayout.addWidget(self.btnStart, <span class="number">0</span>, <span class="number">0</span>, <span class="number">1</span>, <span class="number">1</span>)</span><br><span class="line">        self.btnStop = QtWidgets.QPushButton(self.groupBox)</span><br><span class="line">        self.btnStop.setObjectName(<span class="string">&quot;btnStop&quot;</span>)</span><br><span class="line">        self.gridLayout.addWidget(self.btnStop, <span class="number">0</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>)</span><br><span class="line">        self.btnSetIntv = QtWidgets.QPushButton(self.groupBox)</span><br><span class="line">        self.btnSetIntv.setObjectName(<span class="string">&quot;btnSetIntv&quot;</span>)</span><br><span class="line">        self.gridLayout.addWidget(self.btnSetIntv, <span class="number">1</span>, <span class="number">0</span>, <span class="number">1</span>, <span class="number">1</span>)</span><br><span class="line">        self.spinBoxIntv = QtWidgets.QSpinBox(self.groupBox)</span><br><span class="line">        self.spinBoxIntv.setMinimum(<span class="number">1000</span>)</span><br><span class="line">        self.spinBoxIntv.setMaximum(<span class="number">10000</span>)</span><br><span class="line">        self.spinBoxIntv.setSingleStep(<span class="number">1000</span>)</span><br><span class="line">        self.spinBoxIntv.setProperty(<span class="string">&quot;value&quot;</span>, <span class="number">1000</span>)</span><br><span class="line">        self.spinBoxIntv.setObjectName(<span class="string">&quot;spinBoxIntv&quot;</span>)</span><br><span class="line">        self.gridLayout.addWidget(self.spinBoxIntv, <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>)</span><br><span class="line">        self.verticalLayout.addWidget(self.groupBox)</span><br><span class="line">        self.groupBox_2 = QtWidgets.QGroupBox(Form)</span><br><span class="line">        self.groupBox_2.setObjectName(<span class="string">&quot;groupBox_2&quot;</span>)</span><br><span class="line">        self.horizontalLayout = QtWidgets.QHBoxLayout(self.groupBox_2)</span><br><span class="line">        self.horizontalLayout.setObjectName(<span class="string">&quot;horizontalLayout&quot;</span>)</span><br><span class="line">        self.LCDHour = QtWidgets.QLCDNumber(self.groupBox_2)</span><br><span class="line">        font = QtGui.QFont()</span><br><span class="line">        font.setPointSize(<span class="number">20</span>)</span><br><span class="line">        self.LCDHour.setFont(font)</span><br><span class="line">        self.LCDHour.setDigitCount(<span class="number">2</span>)</span><br><span class="line">        self.LCDHour.setObjectName(<span class="string">&quot;LCDHour&quot;</span>)</span><br><span class="line">        self.horizontalLayout.addWidget(self.LCDHour)</span><br><span class="line">        self.LCDMin = QtWidgets.QLCDNumber(self.groupBox_2)</span><br><span class="line">        self.LCDMin.setDigitCount(<span class="number">2</span>)</span><br><span class="line">        self.LCDMin.setObjectName(<span class="string">&quot;LCDMin&quot;</span>)</span><br><span class="line">        self.horizontalLayout.addWidget(self.LCDMin)</span><br><span class="line">        self.LCDSec = QtWidgets.QLCDNumber(self.groupBox_2)</span><br><span class="line">        self.LCDSec.setSmallDecimalPoint(<span class="literal">False</span>)</span><br><span class="line">        self.LCDSec.setDigitCount(<span class="number">2</span>)</span><br><span class="line">        self.LCDSec.setObjectName(<span class="string">&quot;LCDSec&quot;</span>)</span><br><span class="line">        self.horizontalLayout.addWidget(self.LCDSec)</span><br><span class="line">        self.verticalLayout.addWidget(self.groupBox_2)</span><br><span class="line">        self.LabElapsedTime = QtWidgets.QLabel(Form)</span><br><span class="line">        sizePolicy = QtWidgets.QSizePolicy(QtWidgets.QSizePolicy.Preferred, QtWidgets.QSizePolicy.Fixed)</span><br><span class="line">        sizePolicy.setHorizontalStretch(<span class="number">0</span>)</span><br><span class="line">        sizePolicy.setVerticalStretch(<span class="number">0</span>)</span><br><span class="line">        sizePolicy.setHeightForWidth(self.LabElapsedTime.sizePolicy().hasHeightForWidth())</span><br><span class="line">        self.LabElapsedTime.setSizePolicy(sizePolicy)</span><br><span class="line">        self.LabElapsedTime.setText(<span class="string">&quot;&quot;</span>)</span><br><span class="line">        self.LabElapsedTime.setObjectName(<span class="string">&quot;LabElapsedTime&quot;</span>)</span><br><span class="line">        self.verticalLayout.addWidget(self.LabElapsedTime)</span><br><span class="line"></span><br><span class="line">        self.retranslateUi(Form)</span><br><span class="line">        QtCore.QMetaObject.connectSlotsByName(Form)</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">retranslateUi</span>(<span class="params">self, Form</span>):</span></span><br><span class="line">        _translate = QtCore.QCoreApplication.translate</span><br><span class="line">        Form.setWindowTitle(_translate(<span class="string">&quot;Form&quot;</span>, <span class="string">&quot;Form&quot;</span>))</span><br><span class="line">        self.groupBox.setTitle(_translate(<span class="string">&quot;Form&quot;</span>, <span class="string">&quot;定时器&quot;</span>))</span><br><span class="line">        self.btnStart.setText(_translate(<span class="string">&quot;Form&quot;</span>, <span class="string">&quot;开始&quot;</span>))</span><br><span class="line">        self.btnStop.setText(_translate(<span class="string">&quot;Form&quot;</span>, <span class="string">&quot;停止&quot;</span>))</span><br><span class="line">        self.btnSetIntv.setText(_translate(<span class="string">&quot;Form&quot;</span>, <span class="string">&quot;设置周期&quot;</span>))</span><br><span class="line">        self.spinBoxIntv.setSuffix(_translate(<span class="string">&quot;Form&quot;</span>, <span class="string">&quot;ms&quot;</span>))</span><br><span class="line">        self.groupBox_2.setTitle(_translate(<span class="string">&quot;Form&quot;</span>, <span class="string">&quot;当前时间&quot;</span>))</span><br><span class="line"></span><br></pre></td></tr></table></figure>
</li>
<li><p>创建逻辑类</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> sys</span><br><span class="line"><span class="keyword">from</span> PyQt5.QtWidgets <span class="keyword">import</span> QApplication, QWidget</span><br><span class="line"><span class="keyword">from</span> PyQt5.QtCore <span class="keyword">import</span> QTime, QTimer</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> Timer</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">QMyWidget</span>(<span class="params">QWidget</span>):</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self, parent=<span class="literal">None</span></span>):</span></span><br><span class="line">        <span class="built_in">super</span>().__init__(parent)</span><br><span class="line">        self.ui = Timer.Ui_Form()</span><br><span class="line">        self.ui.setupUi(self)</span><br><span class="line"></span><br><span class="line">        self.timer = QTimer()  <span class="comment"># 创建定时器</span></span><br><span class="line">        self.timer.stop()  <span class="comment"># 停止</span></span><br><span class="line">        self.timer.setInterval(<span class="number">1000</span>)  <span class="comment"># 定时周期1000ms</span></span><br><span class="line">        self.timer.timeout.connect(self.do_timer_timeout)</span><br><span class="line">        self.counter = QTime()  <span class="comment"># 创建计时器</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">on_btnStart_clicked</span>(<span class="params">self</span>):</span></span><br><span class="line">        self.timer.start()  <span class="comment"># 开始定时</span></span><br><span class="line">        self.counter.start()</span><br><span class="line">        self.ui.btnStart.setEnabled(<span class="literal">False</span>)</span><br><span class="line">        self.ui.btnStop.setEnabled(<span class="literal">True</span>)</span><br><span class="line">        self.ui.btnSetIntv.setEnabled(<span class="literal">False</span>)</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">on_btnSetIntv_clicked</span>(<span class="params">self</span>):</span>  <span class="comment"># #设置定时器的周期</span></span><br><span class="line">        self.timer.setInterval(self.ui.spinBoxIntv.value())</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">on_btnStop_clicked</span>(<span class="params">self</span>):</span></span><br><span class="line">        self.timer.stop()  <span class="comment"># 定时器停止</span></span><br><span class="line">        tmMs = self.counter.elapsed()  <span class="comment"># 计时器经过的毫秒数, 这个时候counter其实还在运行,重新start之后从0开始计时</span></span><br><span class="line">        ms = tmMs % <span class="number">1000</span>  <span class="comment"># 取余数，毫秒</span></span><br><span class="line">        sec = tmMs/<span class="number">1000</span>  <span class="comment"># 整秒</span></span><br><span class="line">        timeStr = <span class="string">&quot;经过的时间：%d 秒，%d 毫秒&quot;</span> % (sec, ms)</span><br><span class="line">        self.ui.LabElapsedTime.setText(timeStr)</span><br><span class="line">        self.ui.btnStart.setEnabled(<span class="literal">True</span>)</span><br><span class="line">        self.ui.btnStop.setEnabled(<span class="literal">False</span>)</span><br><span class="line">        self.ui.btnSetIntv.setEnabled(<span class="literal">True</span>)</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">do_timer_timeout</span>(<span class="params">self</span>):</span>  <span class="comment"># 定时中断响应</span></span><br><span class="line">        curTime = QTime.currentTime()  <span class="comment"># 获取当前时间</span></span><br><span class="line">        self.ui.LCDHour.display(curTime.hour())</span><br><span class="line">        self.ui.LCDMin.display(curTime.minute())</span><br><span class="line">        self.ui.LCDSec.display(curTime.second())</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&quot;__main__&quot;</span>:</span><br><span class="line">    app = QApplication(sys.argv)  <span class="comment"># 创建app，用QApplication类</span></span><br><span class="line">    form = QMyWidget()</span><br><span class="line">    form.show()</span><br><span class="line">    sys.exit(app.exec_())</span><br></pre></td></tr></table></figure>
</li>
<li><p>PyQt5中的定时器类是QTimer。QTimer不是一个可见的界面组件，在Qt Designer的组件面板里找不到它。</p>
<ul>
<li>QTimer主要的属性是interval，是定时中断的周期，单位是毫秒。</li>
<li>QTimer主要的信号是timeout()，在定时中断时发射此信号，若要在定时中断里作出响应，就需要编写与timeout()信号关联的槽函数。</li>
</ul>
</li>
<li><p>代码分析</p>
<ol>
<li>在构造函数中创建了定时器对象self.timer并立刻停止。设置定时周期为1000ms，并为其timeout()信号关联了自定义槽函数do_timer_timeout()。还创建了一个计时器对象self.counter，这是一个QTime类的实例，用于在开始与停止之间计算经过的时间。</li>
<li>定时器开始运行,点击“开始”按钮后，定时器开始运行，计时器也开始运行。定时器的定时周期到了之后发射timeout()信号，触发关联的自定义槽函数do_timer_timeout()执行，此槽函数的功能通过类函数QTime.currentTime()读取当前时间，然后将时、分、秒显示在三个LCD组件上。</li>
<li>定时器停止运行,点击“停止”按钮时，定时器停止运行。计时器通过调用elapsed()函数可以获得上次执行start()之后经过的毫秒数。</li>
</ol>
</li>
</ol>
<h2 id="10-下拉列表框"><a href="#10-下拉列表框" class="headerlink" title="10. 下拉列表框"></a>10. 下拉列表框</h2><ol>
<li><p>创建ui</p>
<p><img src="http://mediaqn.meitranslation.com/blog/image-20201204183434189.png" alt="image-20201204183434189"></p>
</li>
<li><p>ui转换py文件</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># -*- coding: utf-8 -*-</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Form implementation generated from reading ui file &#x27;QComboBox.ui&#x27;</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># Created by: PyQt5 UI code generator 5.10.1</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># WARNING! All changes made in this file will be lost!</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">from</span> PyQt5 <span class="keyword">import</span> QtCore, QtGui, QtWidgets</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Ui_Form</span>(<span class="params"><span class="built_in">object</span></span>):</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">setupUi</span>(<span class="params">self, Form</span>):</span></span><br><span class="line">        Form.setObjectName(<span class="string">&quot;Form&quot;</span>)</span><br><span class="line">        Form.resize(<span class="number">564</span>, <span class="number">334</span>)</span><br><span class="line">        self.verticalLayout = QtWidgets.QVBoxLayout(Form)</span><br><span class="line">        self.verticalLayout.setObjectName(<span class="string">&quot;verticalLayout&quot;</span>)</span><br><span class="line">        self.groupBox = QtWidgets.QGroupBox(Form)</span><br><span class="line">        self.groupBox.setObjectName(<span class="string">&quot;groupBox&quot;</span>)</span><br><span class="line">        self.verticalLayout_2 = QtWidgets.QVBoxLayout(self.groupBox)</span><br><span class="line">        self.verticalLayout_2.setObjectName(<span class="string">&quot;verticalLayout_2&quot;</span>)</span><br><span class="line">        self.lineEdit = QtWidgets.QLineEdit(self.groupBox)</span><br><span class="line">        self.lineEdit.setObjectName(<span class="string">&quot;lineEdit&quot;</span>)</span><br><span class="line">        self.verticalLayout_2.addWidget(self.lineEdit)</span><br><span class="line">        self.verticalLayout.addWidget(self.groupBox)</span><br><span class="line">        self.frame = QtWidgets.QFrame(Form)</span><br><span class="line">        self.frame.setFrameShape(QtWidgets.QFrame.StyledPanel)</span><br><span class="line">        self.frame.setFrameShadow(QtWidgets.QFrame.Raised)</span><br><span class="line">        self.frame.setObjectName(<span class="string">&quot;frame&quot;</span>)</span><br><span class="line">        self.horizontalLayout = QtWidgets.QHBoxLayout(self.frame)</span><br><span class="line">        self.horizontalLayout.setObjectName(<span class="string">&quot;horizontalLayout&quot;</span>)</span><br><span class="line">        self.groupBox_2 = QtWidgets.QGroupBox(self.frame)</span><br><span class="line">        self.groupBox_2.setObjectName(<span class="string">&quot;groupBox_2&quot;</span>)</span><br><span class="line">        self.verticalLayout_3 = QtWidgets.QVBoxLayout(self.groupBox_2)</span><br><span class="line">        self.verticalLayout_3.setObjectName(<span class="string">&quot;verticalLayout_3&quot;</span>)</span><br><span class="line">        self.splitter = QtWidgets.QSplitter(self.groupBox_2)</span><br><span class="line">        self.splitter.setOrientation(QtCore.Qt.Horizontal)</span><br><span class="line">        self.splitter.setObjectName(<span class="string">&quot;splitter&quot;</span>)</span><br><span class="line">        self.btnIniItems = QtWidgets.QPushButton(self.splitter)</span><br><span class="line">        self.btnIniItems.setObjectName(<span class="string">&quot;btnIniItems&quot;</span>)</span><br><span class="line">        self.pushButton_2 = QtWidgets.QPushButton(self.splitter)</span><br><span class="line">        self.pushButton_2.setObjectName(<span class="string">&quot;pushButton_2&quot;</span>)</span><br><span class="line">        self.chkBoxEditable = QtWidgets.QCheckBox(self.splitter)</span><br><span class="line">        self.chkBoxEditable.setObjectName(<span class="string">&quot;chkBoxEditable&quot;</span>)</span><br><span class="line">        self.verticalLayout_3.addWidget(self.splitter)</span><br><span class="line">        self.comboBox = QtWidgets.QComboBox(self.groupBox_2)</span><br><span class="line">        self.comboBox.setObjectName(<span class="string">&quot;comboBox&quot;</span>)</span><br><span class="line">        self.verticalLayout_3.addWidget(self.comboBox)</span><br><span class="line">        self.horizontalLayout.addWidget(self.groupBox_2)</span><br><span class="line">        self.groupBox_3 = QtWidgets.QGroupBox(self.frame)</span><br><span class="line">        self.groupBox_3.setObjectName(<span class="string">&quot;groupBox_3&quot;</span>)</span><br><span class="line">        self.verticalLayout_4 = QtWidgets.QVBoxLayout(self.groupBox_3)</span><br><span class="line">        self.verticalLayout_4.setObjectName(<span class="string">&quot;verticalLayout_4&quot;</span>)</span><br><span class="line">        self.btnIni2 = QtWidgets.QPushButton(self.groupBox_3)</span><br><span class="line">        self.btnIni2.setObjectName(<span class="string">&quot;btnIni2&quot;</span>)</span><br><span class="line">        self.verticalLayout_4.addWidget(self.btnIni2)</span><br><span class="line">        self.comboBox_2 = QtWidgets.QComboBox(self.groupBox_3)</span><br><span class="line">        self.comboBox_2.setObjectName(<span class="string">&quot;comboBox_2&quot;</span>)</span><br><span class="line">        self.verticalLayout_4.addWidget(self.comboBox_2)</span><br><span class="line">        self.horizontalLayout.addWidget(self.groupBox_3)</span><br><span class="line">        self.verticalLayout.addWidget(self.frame)</span><br><span class="line"></span><br><span class="line">        self.retranslateUi(Form)</span><br><span class="line">        QtCore.QMetaObject.connectSlotsByName(Form)</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">retranslateUi</span>(<span class="params">self, Form</span>):</span></span><br><span class="line">        _translate = QtCore.QCoreApplication.translate</span><br><span class="line">        Form.setWindowTitle(_translate(<span class="string">&quot;Form&quot;</span>, <span class="string">&quot;Form&quot;</span>))</span><br><span class="line">        self.groupBox.setTitle(_translate(<span class="string">&quot;Form&quot;</span>, <span class="string">&quot;选择的内容&quot;</span>))</span><br><span class="line">        self.groupBox_2.setTitle(_translate(<span class="string">&quot;Form&quot;</span>, <span class="string">&quot;简单的ComboBox&quot;</span>))</span><br><span class="line">        self.btnIniItems.setText(_translate(<span class="string">&quot;Form&quot;</span>, <span class="string">&quot;初始化列表&quot;</span>))</span><br><span class="line">        self.pushButton_2.setText(_translate(<span class="string">&quot;Form&quot;</span>, <span class="string">&quot;清除列表&quot;</span>))</span><br><span class="line">        self.chkBoxEditable.setText(_translate(<span class="string">&quot;Form&quot;</span>, <span class="string">&quot;可编辑&quot;</span>))</span><br><span class="line">        self.groupBox_3.setTitle(_translate(<span class="string">&quot;Form&quot;</span>, <span class="string">&quot;有用户数据的ComboBox&quot;</span>))</span><br><span class="line">        self.btnIni2.setText(_translate(<span class="string">&quot;Form&quot;</span>, <span class="string">&quot;初始化城市+区号&quot;</span>))</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>
</li>
<li><p>创建逻辑类</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> sys</span><br><span class="line"><span class="keyword">from</span> PyQt5.QtCore <span class="keyword">import</span> pyqtSlot</span><br><span class="line"><span class="keyword">from</span> PyQt5.QtGui <span class="keyword">import</span> QIcon</span><br><span class="line"><span class="keyword">from</span> PyQt5.QtWidgets <span class="keyword">import</span> QWidget, QApplication</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> QComboBox</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">QMyWidget</span>(<span class="params">QWidget</span>):</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self,parent=<span class="literal">None</span></span>):</span></span><br><span class="line">        <span class="built_in">super</span>().__init__(parent)</span><br><span class="line">        self.ui = QComboBox.Ui_Form()</span><br><span class="line">        self.ui.setupUi(self)</span><br><span class="line"></span><br><span class="line">        self.ui.btnIni2.clicked.connect(self.on_btn_ini2_clicked)</span><br><span class="line"></span><br><span class="line">        self.ui.comboBox_2.currentIndexChanged[<span class="built_in">str</span>].connect(self.combo_box_current_index_change)</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">on_btnIniItems_clicked</span>(<span class="params">self</span>):</span></span><br><span class="line">        icon = QIcon(<span class="string">&quot;./icons/images/icon.png&quot;</span>)</span><br><span class="line">        self.ui.comboBox.clear()</span><br><span class="line">        provinces = [<span class="string">&quot;山东&quot;</span>, <span class="string">&quot;河北&quot;</span>, <span class="string">&quot;河南&quot;</span>, <span class="string">&quot;湖北&quot;</span>, <span class="string">&quot;湖南&quot;</span>, <span class="string">&quot;广东&quot;</span>]  <span class="comment"># 列表数据</span></span><br><span class="line">        <span class="comment"># self.ui.comboBox.addItems(provinces)  # 直接添加列表，但无法加图标</span></span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(provinces)):</span><br><span class="line">            self.ui.comboBox.addItem(icon, provinces[i])</span><br><span class="line"></span><br><span class="line"><span class="meta">    @pyqtSlot(<span class="params"><span class="built_in">bool</span></span>)</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">on_chkBoxEditable_clicked</span>(<span class="params">self,checked</span>):</span></span><br><span class="line">        self.ui.comboBox.setEditable(checked)</span><br><span class="line"></span><br><span class="line"><span class="meta">    @pyqtSlot(<span class="params"><span class="built_in">str</span></span>)</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">on_comboBox_currentIndexChanged</span>(<span class="params">self,curText</span>):</span></span><br><span class="line">        self.ui.lineEdit.setText(curText)</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">on_btn_ini2_clicked</span>(<span class="params">self</span>):</span></span><br><span class="line">        icon = QIcon(<span class="string">&quot;./icons/images/icon.png&quot;</span>)</span><br><span class="line">        self.ui.comboBox_2.clear()</span><br><span class="line">        cities =  &#123;<span class="string">&quot;北京&quot;</span>: <span class="number">10</span>, <span class="string">&quot;上海&quot;</span>: <span class="number">21</span>, <span class="string">&quot;天津&quot;</span>: <span class="number">22</span>, <span class="string">&quot;徐州&quot;</span>: <span class="number">516</span>, <span class="string">&quot;福州&quot;</span>: <span class="number">591</span>, <span class="string">&quot;青岛&quot;</span>: <span class="number">532</span>&#125;  <span class="comment"># 字典数据</span></span><br><span class="line">        <span class="keyword">for</span> k <span class="keyword">in</span> cities:</span><br><span class="line">            self.ui.comboBox_2.addItem(icon,k,cities[k])</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">combo_box_current_index_change</span>(<span class="params">self,curText</span>):</span></span><br><span class="line">        self.ui.lineEdit.setText(curText)</span><br><span class="line">        zone = self.ui.comboBox_2.currentData()</span><br><span class="line">        <span class="keyword">if</span> zone <span class="keyword">is</span> <span class="keyword">not</span> <span class="literal">None</span>:</span><br><span class="line">            self.ui.lineEdit.setText(curText + <span class="string">&quot;:区号=%d&quot;</span> % zone)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    app = QApplication(sys.argv)</span><br><span class="line">    form = QMyWidget()</span><br><span class="line">    form.show()</span><br><span class="line">    sys.exit(app.exec_())</span><br><span class="line">   </span><br></pre></td></tr></table></figure>

</li>
</ol>
<h3 id="QComboBox常用函数总结"><a href="#QComboBox常用函数总结" class="headerlink" title="QComboBox常用函数总结"></a>QComboBox常用函数总结</h3><p>QComboBox存储的项是一个列表，但是QComboBox不提供整个列表用于访问，而可以通过索引访问某个项。访问项的一些函数主要有以下几个。</p>
<ol>
<li>currentIndex()：返回当前项的序号，第一项的序号为0。</li>
<li>currentText()：返回当前项的文字。</li>
<li>currentData(role)：返回当前项的关联数据，参数role表示数据角色，角色role的默认值为Qt.UserRole。可以为一个项定义多个角色的用户数据，更多自定义角色的编号从Qt.UserRole开始增加，如Qt.UserRole+1、Qt.UserRole+2.</li>
<li>itemText(index)：返回索引号为index的项的文字。</li>
<li>itemData(index, role)：返回索引号为index的项的角色为role的关联数据，角色role的默认值为Qt.UserRole。</li>
<li>count()：返回项的个数。</li>
</ol>
<h2 id="11-WebView使用"><a href="#11-WebView使用" class="headerlink" title="11. WebView使用"></a>11. WebView使用</h2><ol>
<li><p>创建ui</p>
<p><img src="../../../../.config/Typora/typora-user-images/image-20201204192413199.png" alt="image-20201204192413199"></p>
</li>
<li><p>转换ui文件到py</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># -*- coding: utf-8 -*-</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Form implementation generated from reading ui file &#x27;WebBrowser.ui&#x27;</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># Created by: PyQt5 UI code generator 5.10.1</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># WARNING! All changes made in this file will be lost!</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">from</span> PyQt5 <span class="keyword">import</span> QtCore, QtGui, QtWidgets</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Ui_MainWindow</span>(<span class="params"><span class="built_in">object</span></span>):</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">setupUi</span>(<span class="params">self, MainWindow</span>):</span></span><br><span class="line">        MainWindow.setObjectName(<span class="string">&quot;MainWindow&quot;</span>)</span><br><span class="line">        MainWindow.resize(<span class="number">800</span>, <span class="number">600</span>)</span><br><span class="line">        self.centralwidget = QtWidgets.QWidget(MainWindow)</span><br><span class="line">        self.centralwidget.setObjectName(<span class="string">&quot;centralwidget&quot;</span>)</span><br><span class="line">        self.verticalLayout = QtWidgets.QVBoxLayout(self.centralwidget)</span><br><span class="line">        self.verticalLayout.setObjectName(<span class="string">&quot;verticalLayout&quot;</span>)</span><br><span class="line">        self.webView = QWebEngineView(self.centralwidget) <span class="comment">## update to QWebEngineView</span></span><br><span class="line">        self.webView.setUrl(QtCore.QUrl(<span class="string">&quot;https://www.baidu.com/&quot;</span>))</span><br><span class="line">        self.webView.setObjectName(<span class="string">&quot;webView&quot;</span>)</span><br><span class="line">        self.verticalLayout.addWidget(self.webView)</span><br><span class="line">        MainWindow.setCentralWidget(self.centralwidget)</span><br><span class="line">        self.menubar = QtWidgets.QMenuBar(MainWindow)</span><br><span class="line">        self.menubar.setGeometry(QtCore.QRect(<span class="number">0</span>, <span class="number">0</span>, <span class="number">800</span>, <span class="number">30</span>))</span><br><span class="line">        self.menubar.setObjectName(<span class="string">&quot;menubar&quot;</span>)</span><br><span class="line">        MainWindow.setMenuBar(self.menubar)</span><br><span class="line">        self.statusbar = QtWidgets.QStatusBar(MainWindow)</span><br><span class="line">        self.statusbar.setObjectName(<span class="string">&quot;statusbar&quot;</span>)</span><br><span class="line">        MainWindow.setStatusBar(self.statusbar)</span><br><span class="line"></span><br><span class="line">        self.retranslateUi(MainWindow)</span><br><span class="line">        QtCore.QMetaObject.connectSlotsByName(MainWindow)</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">retranslateUi</span>(<span class="params">self, MainWindow</span>):</span></span><br><span class="line">        _translate = QtCore.QCoreApplication.translate</span><br><span class="line">        MainWindow.setWindowTitle(_translate(<span class="string">&quot;MainWindow&quot;</span>, <span class="string">&quot;MainWindow&quot;</span>))</span><br><span class="line"></span><br><span class="line"><span class="keyword">from</span> PyQt5.QtWebEngineWidgets <span class="keyword">import</span> QWebEngineView <span class="comment">## update to QWebEngineView</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>当前使用的版本是5.15 默认不包含webEngine模块需要单独安装 <code>pip install PyQtWebEngine</code></p>
<p>安装之后我的pip list </p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">Package          Version</span><br><span class="line">---------------- ------------</span><br><span class="line">click            7.1.2</span><br><span class="line">pip              20.2.2</span><br><span class="line">PyQt5            5.15.1</span><br><span class="line">pyqt5-plugins    5.15.1.2.0.1</span><br><span class="line">PyQt5-sip        12.8.1</span><br><span class="line">pyqt5-tools      5.15.1.3</span><br><span class="line">PyQtWebEngine    5.15.2</span><br><span class="line">python-dotenv    0.15.0</span><br><span class="line">qt5-applications 5.15.1.2</span><br><span class="line">qt5-tools        5.15.1.1.0.1</span><br><span class="line">setuptools       50.2.0</span><br><span class="line">wheel            0.35.1</span><br></pre></td></tr></table></figure>
</li>
<li><p>创建业务逻辑类</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> sys</span><br><span class="line"><span class="keyword">from</span> PyQt5 <span class="keyword">import</span> QtCore</span><br><span class="line"></span><br><span class="line"><span class="keyword">from</span> PyQt5.QtWidgets <span class="keyword">import</span> QWidget, QApplication, QMainWindow</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> WebBrowser</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">QMyWidget</span>(<span class="params">QMainWindow</span>):</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self,parent=<span class="literal">None</span></span>):</span></span><br><span class="line">        <span class="built_in">super</span>().__init__(parent)</span><br><span class="line">        self.ui = WebBrowser.Ui_MainWindow()</span><br><span class="line">        self.ui.setupUi(self)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    app = QApplication(sys.argv)</span><br><span class="line">    win = QMyWidget()</span><br><span class="line">    win.ui.webView.load(QtCore.QUrl(<span class="string">&quot;http://jinyun.github.io&quot;</span>))</span><br><span class="line">    win.show()</span><br><span class="line"></span><br><span class="line">    sys.exit(app.exec_())</span><br></pre></td></tr></table></figure>

</li>
</ol>
<h2 id="12-QMainWindow与QAction"><a href="#12-QMainWindow与QAction" class="headerlink" title="12. QMainWindow与QAction"></a>12. QMainWindow与QAction</h2><ol>
<li><p>创建ui</p>
<p><img src="http://mediaqn.meitranslation.com/blog/20201207171509.png"></p>
</li>
</ol>
<p>   创建菜单</p>
<p>   <img src="http://mediaqn.meitranslation.com/blog/20201207172216.png"></p>
<p>   双击菜单栏,添加 <code>文件(&amp;F)</code>,<code>编辑(&amp;E)</code>,<code>格式(&amp;M)</code>,<code>关于(&amp;A)</code>.</p>
<p>   在Action Editor中创建如图的菜单</p>
<p>   <img src="http://mediaqn.meitranslation.com/blog/20201207172632.png"></p>
<p>   在面板上右键添加工具栏,然后把创建的Action拖入到对应的Action</p>
<p>   <img src="http://mediaqn.meitranslation.com/blog/20201207173325.png" alt="image-20201207173318799"></p>
<p>   添加plainTextEdit到主要窗口面板,把centralwidget 配置成<code>Vertical Layout 垂直布局</code>.最后的对象树</p>
<p>   <img src="http://mediaqn.meitranslation.com/blog/20201207173911.png" alt="image-20201207173909009"></p>
<p>   <img src="http://mediaqn.meitranslation.com/blog/20201207174050.png" alt="image-20201207173955899"></p>
<p>   创建对应的Signal/Slot</p>
<p>   <img src="http://mediaqn.meitranslation.com/blog/20201207181824.png" alt="image-20201207181823558"></p>
<p>   保存ui文件ui_MainWindow.ui</p>
<ol start="2">
<li><p>把创建的ui文件编译成py文件</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># -*- coding: utf-8 -*-</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Form implementation generated from reading ui file &#x27;ui_MainWindow.ui&#x27;</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># Created by: PyQt5 UI code generator 5.10.1</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># WARNING! All changes made in this file will be lost!</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">from</span> PyQt5 <span class="keyword">import</span> QtCore, QtGui, QtWidgets</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Ui_MainWindow</span>(<span class="params"><span class="built_in">object</span></span>):</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">setupUi</span>(<span class="params">self, MainWindow</span>):</span></span><br><span class="line">        MainWindow.setObjectName(<span class="string">&quot;MainWindow&quot;</span>)</span><br><span class="line">        MainWindow.resize(<span class="number">814</span>, <span class="number">594</span>)</span><br><span class="line">        self.centralwidget = QtWidgets.QWidget(MainWindow)</span><br><span class="line">        self.centralwidget.setObjectName(<span class="string">&quot;centralwidget&quot;</span>)</span><br><span class="line">        self.verticalLayout = QtWidgets.QVBoxLayout(self.centralwidget)</span><br><span class="line">        self.verticalLayout.setObjectName(<span class="string">&quot;verticalLayout&quot;</span>)</span><br><span class="line">        self.plainTextEdit = QtWidgets.QPlainTextEdit(self.centralwidget)</span><br><span class="line">        self.plainTextEdit.setObjectName(<span class="string">&quot;plainTextEdit&quot;</span>)</span><br><span class="line">        self.verticalLayout.addWidget(self.plainTextEdit)</span><br><span class="line">        MainWindow.setCentralWidget(self.centralwidget)</span><br><span class="line">        self.menubar = QtWidgets.QMenuBar(MainWindow)</span><br><span class="line">        self.menubar.setGeometry(QtCore.QRect(<span class="number">0</span>, <span class="number">0</span>, <span class="number">814</span>, <span class="number">32</span>))</span><br><span class="line">        self.menubar.setObjectName(<span class="string">&quot;menubar&quot;</span>)</span><br><span class="line">        self.menu = QtWidgets.QMenu(self.menubar)</span><br><span class="line">        self.menu.setObjectName(<span class="string">&quot;menu&quot;</span>)</span><br><span class="line">        self.menu_E = QtWidgets.QMenu(self.menubar)</span><br><span class="line">        self.menu_E.setObjectName(<span class="string">&quot;menu_E&quot;</span>)</span><br><span class="line">        self.menu_M = QtWidgets.QMenu(self.menubar)</span><br><span class="line">        self.menu_M.setObjectName(<span class="string">&quot;menu_M&quot;</span>)</span><br><span class="line">        self.menu_A = QtWidgets.QMenu(self.menubar)</span><br><span class="line">        self.menu_A.setObjectName(<span class="string">&quot;menu_A&quot;</span>)</span><br><span class="line">        MainWindow.setMenuBar(self.menubar)</span><br><span class="line">        self.statusBar = QtWidgets.QStatusBar(MainWindow)</span><br><span class="line">        self.statusBar.setObjectName(<span class="string">&quot;statusBar&quot;</span>)</span><br><span class="line">        MainWindow.setStatusBar(self.statusBar)</span><br><span class="line">        self.toolBar = QtWidgets.QToolBar(MainWindow)</span><br><span class="line">        self.toolBar.setToolButtonStyle(QtCore.Qt.ToolButtonIconOnly)</span><br><span class="line">        self.toolBar.setObjectName(<span class="string">&quot;toolBar&quot;</span>)</span><br><span class="line">        MainWindow.addToolBar(QtCore.Qt.TopToolBarArea, self.toolBar)</span><br><span class="line">        self.actFont_Italic = QtWidgets.QAction(MainWindow)</span><br><span class="line">        self.actFont_Italic.setCheckable(<span class="literal">True</span>)</span><br><span class="line">        icon = QtGui.QIcon()</span><br><span class="line">        icon.addPixmap(QtGui.QPixmap(<span class="string">&quot;../../../resource/Italic.png&quot;</span>), QtGui.QIcon.Normal, QtGui.QIcon.Off)</span><br><span class="line">        self.actFont_Italic.setIcon(icon)</span><br><span class="line">        self.actFont_Italic.setObjectName(<span class="string">&quot;actFont_Italic&quot;</span>)</span><br><span class="line">        self.actFont_Bold = QtWidgets.QAction(MainWindow)</span><br><span class="line">        self.actFont_Bold.setCheckable(<span class="literal">True</span>)</span><br><span class="line">        icon1 = QtGui.QIcon()</span><br><span class="line">        icon1.addPixmap(QtGui.QPixmap(<span class="string">&quot;../../../resource/bold.png&quot;</span>), QtGui.QIcon.Normal, QtGui.QIcon.Off)</span><br><span class="line">        self.actFont_Bold.setIcon(icon1)</span><br><span class="line">        self.actFont_Bold.setObjectName(<span class="string">&quot;actFont_Bold&quot;</span>)</span><br><span class="line">        self.actFont_Underline = QtWidgets.QAction(MainWindow)</span><br><span class="line">        self.actFont_Underline.setCheckable(<span class="literal">True</span>)</span><br><span class="line">        icon2 = QtGui.QIcon()</span><br><span class="line">        icon2.addPixmap(QtGui.QPixmap(<span class="string">&quot;../../../resource/underline.png&quot;</span>), QtGui.QIcon.Normal, QtGui.QIcon.Off)</span><br><span class="line">        self.actFont_Underline.setIcon(icon2)</span><br><span class="line">        self.actFont_Underline.setObjectName(<span class="string">&quot;actFont_Underline&quot;</span>)</span><br><span class="line">        self.actEdit_Cut = QtWidgets.QAction(MainWindow)</span><br><span class="line">        icon3 = QtGui.QIcon()</span><br><span class="line">        icon3.addPixmap(QtGui.QPixmap(<span class="string">&quot;../../../resource/cut.png&quot;</span>), QtGui.QIcon.Normal, QtGui.QIcon.Off)</span><br><span class="line">        self.actEdit_Cut.setIcon(icon3)</span><br><span class="line">        self.actEdit_Cut.setObjectName(<span class="string">&quot;actEdit_Cut&quot;</span>)</span><br><span class="line">        self.actEdit_Copy = QtWidgets.QAction(MainWindow)</span><br><span class="line">        icon4 = QtGui.QIcon()</span><br><span class="line">        icon4.addPixmap(QtGui.QPixmap(<span class="string">&quot;../../../resource/copy.png&quot;</span>), QtGui.QIcon.Normal, QtGui.QIcon.Off)</span><br><span class="line">        self.actEdit_Copy.setIcon(icon4)</span><br><span class="line">        self.actEdit_Copy.setObjectName(<span class="string">&quot;actEdit_Copy&quot;</span>)</span><br><span class="line">        self.actEdit_Paste = QtWidgets.QAction(MainWindow)</span><br><span class="line">        icon5 = QtGui.QIcon()</span><br><span class="line">        icon5.addPixmap(QtGui.QPixmap(<span class="string">&quot;../../../resource/paste.png&quot;</span>), QtGui.QIcon.Normal, QtGui.QIcon.Off)</span><br><span class="line">        self.actEdit_Paste.setIcon(icon5)</span><br><span class="line">        self.actEdit_Paste.setObjectName(<span class="string">&quot;actEdit_Paste&quot;</span>)</span><br><span class="line">        self.actFile_New = QtWidgets.QAction(MainWindow)</span><br><span class="line">        icon6 = QtGui.QIcon()</span><br><span class="line">        icon6.addPixmap(QtGui.QPixmap(<span class="string">&quot;../../../resource/new.png&quot;</span>), QtGui.QIcon.Normal, QtGui.QIcon.Off)</span><br><span class="line">        self.actFile_New.setIcon(icon6)</span><br><span class="line">        self.actFile_New.setObjectName(<span class="string">&quot;actFile_New&quot;</span>)</span><br><span class="line">        self.actFile_Open = QtWidgets.QAction(MainWindow)</span><br><span class="line">        icon7 = QtGui.QIcon()</span><br><span class="line">        icon7.addPixmap(QtGui.QPixmap(<span class="string">&quot;../../../resource/open.png&quot;</span>), QtGui.QIcon.Normal, QtGui.QIcon.Off)</span><br><span class="line">        self.actFile_Open.setIcon(icon7)</span><br><span class="line">        self.actFile_Open.setObjectName(<span class="string">&quot;actFile_Open&quot;</span>)</span><br><span class="line">        self.actFile_Save = QtWidgets.QAction(MainWindow)</span><br><span class="line">        icon8 = QtGui.QIcon()</span><br><span class="line">        icon8.addPixmap(QtGui.QPixmap(<span class="string">&quot;../../../resource/save.png&quot;</span>), QtGui.QIcon.Normal, QtGui.QIcon.Off)</span><br><span class="line">        self.actFile_Save.setIcon(icon8)</span><br><span class="line">        self.actFile_Save.setObjectName(<span class="string">&quot;actFile_Save&quot;</span>)</span><br><span class="line">        self.actClose = QtWidgets.QAction(MainWindow)</span><br><span class="line">        icon9 = QtGui.QIcon()</span><br><span class="line">        icon9.addPixmap(QtGui.QPixmap(<span class="string">&quot;../../../resource/close.png&quot;</span>), QtGui.QIcon.Normal, QtGui.QIcon.Off)</span><br><span class="line">        self.actClose.setIcon(icon9)</span><br><span class="line">        self.actClose.setObjectName(<span class="string">&quot;actClose&quot;</span>)</span><br><span class="line">        self.actEdit_Undo = QtWidgets.QAction(MainWindow)</span><br><span class="line">        icon10 = QtGui.QIcon()</span><br><span class="line">        icon10.addPixmap(QtGui.QPixmap(<span class="string">&quot;../../../resource/undo.png&quot;</span>), QtGui.QIcon.Normal, QtGui.QIcon.Off)</span><br><span class="line">        self.actEdit_Undo.setIcon(icon10)</span><br><span class="line">        self.actEdit_Undo.setObjectName(<span class="string">&quot;actEdit_Undo&quot;</span>)</span><br><span class="line">        self.actEdit_Redo = QtWidgets.QAction(MainWindow)</span><br><span class="line">        icon11 = QtGui.QIcon()</span><br><span class="line">        icon11.addPixmap(QtGui.QPixmap(<span class="string">&quot;../../../resource/redo.png&quot;</span>), QtGui.QIcon.Normal, QtGui.QIcon.Off)</span><br><span class="line">        self.actEdit_Redo.setIcon(icon11)</span><br><span class="line">        self.actEdit_Redo.setObjectName(<span class="string">&quot;actEdit_Redo&quot;</span>)</span><br><span class="line">        self.actEdit_Clear = QtWidgets.QAction(MainWindow)</span><br><span class="line">        icon12 = QtGui.QIcon()</span><br><span class="line">        icon12.addPixmap(QtGui.QPixmap(<span class="string">&quot;../../../resource/clear.png&quot;</span>), QtGui.QIcon.Normal, QtGui.QIcon.Off)</span><br><span class="line">        self.actEdit_Clear.setIcon(icon12)</span><br><span class="line">        self.actEdit_Clear.setObjectName(<span class="string">&quot;actEdit_Clear&quot;</span>)</span><br><span class="line">        self.actEdit_SelectAll = QtWidgets.QAction(MainWindow)</span><br><span class="line">        icon13 = QtGui.QIcon()</span><br><span class="line">        icon13.addPixmap(QtGui.QPixmap(<span class="string">&quot;../../../resource/SelectAll.png&quot;</span>), QtGui.QIcon.Normal, QtGui.QIcon.Off)</span><br><span class="line">        self.actEdit_SelectAll.setIcon(icon13)</span><br><span class="line">        self.actEdit_SelectAll.setObjectName(<span class="string">&quot;actEdit_SelectAll&quot;</span>)</span><br><span class="line">        self.actLang_CN = QtWidgets.QAction(MainWindow)</span><br><span class="line">        self.actLang_CN.setCheckable(<span class="literal">True</span>)</span><br><span class="line">        icon14 = QtGui.QIcon()</span><br><span class="line">        icon14.addPixmap(QtGui.QPixmap(<span class="string">&quot;../../../resource/CN.png&quot;</span>), QtGui.QIcon.Normal, QtGui.QIcon.Off)</span><br><span class="line">        self.actLang_CN.setIcon(icon14)</span><br><span class="line">        self.actLang_CN.setObjectName(<span class="string">&quot;actLang_CN&quot;</span>)</span><br><span class="line">        self.actLang_EN = QtWidgets.QAction(MainWindow)</span><br><span class="line">        self.actLang_EN.setCheckable(<span class="literal">True</span>)</span><br><span class="line">        icon15 = QtGui.QIcon()</span><br><span class="line">        icon15.addPixmap(QtGui.QPixmap(<span class="string">&quot;../../../resource/EN.png&quot;</span>), QtGui.QIcon.Normal, QtGui.QIcon.Off)</span><br><span class="line">        self.actLang_EN.setIcon(icon15)</span><br><span class="line">        self.actLang_EN.setObjectName(<span class="string">&quot;actLang_EN&quot;</span>)</span><br><span class="line">        self.menu.addAction(self.actFile_New)</span><br><span class="line">        self.menu.addAction(self.actFile_Open)</span><br><span class="line">        self.menu.addAction(self.actFile_Save)</span><br><span class="line">        self.menu.addSeparator()</span><br><span class="line">        self.menu.addAction(self.actClose)</span><br><span class="line">        self.menu_E.addAction(self.actEdit_Cut)</span><br><span class="line">        self.menu_E.addAction(self.actEdit_Copy)</span><br><span class="line">        self.menu_E.addAction(self.actEdit_Paste)</span><br><span class="line">        self.menu_E.addSeparator()</span><br><span class="line">        self.menu_E.addAction(self.actEdit_Undo)</span><br><span class="line">        self.menu_E.addAction(self.actEdit_Redo)</span><br><span class="line">        self.menu_E.addSeparator()</span><br><span class="line">        self.menu_E.addAction(self.actEdit_SelectAll)</span><br><span class="line">        self.menu_E.addAction(self.actEdit_Clear)</span><br><span class="line">        self.menu_M.addAction(self.actFont_Italic)</span><br><span class="line">        self.menu_M.addAction(self.actFont_Bold)</span><br><span class="line">        self.menu_M.addAction(self.actFont_Underline)</span><br><span class="line">        self.menubar.addAction(self.menu.menuAction())</span><br><span class="line">        self.menubar.addAction(self.menu_E.menuAction())</span><br><span class="line">        self.menubar.addAction(self.menu_M.menuAction())</span><br><span class="line">        self.menubar.addAction(self.menu_A.menuAction())</span><br><span class="line">        self.toolBar.addAction(self.actFile_New)</span><br><span class="line">        self.toolBar.addAction(self.actFile_Open)</span><br><span class="line">        self.toolBar.addAction(self.actFile_Save)</span><br><span class="line">        self.toolBar.addAction(self.actClose)</span><br><span class="line">        self.toolBar.addSeparator()</span><br><span class="line">        self.toolBar.addAction(self.actEdit_Undo)</span><br><span class="line">        self.toolBar.addAction(self.actEdit_Redo)</span><br><span class="line">        self.toolBar.addAction(self.actFont_Italic)</span><br><span class="line">        self.toolBar.addAction(self.actFont_Bold)</span><br><span class="line">        self.toolBar.addAction(self.actFont_Underline)</span><br><span class="line">        self.toolBar.addSeparator()</span><br><span class="line">        self.toolBar.addAction(self.actEdit_Cut)</span><br><span class="line">        self.toolBar.addAction(self.actEdit_Copy)</span><br><span class="line">        self.toolBar.addAction(self.actEdit_Paste)</span><br><span class="line">        self.toolBar.addSeparator()</span><br><span class="line">        self.toolBar.addAction(self.actLang_CN)</span><br><span class="line">        self.toolBar.addAction(self.actLang_EN)</span><br><span class="line"></span><br><span class="line">        self.retranslateUi(MainWindow)</span><br><span class="line">        self.actEdit_Cut.triggered.connect(self.plainTextEdit.cut)</span><br><span class="line">        self.actEdit_Copy.triggered.connect(self.plainTextEdit.copy)</span><br><span class="line">        self.actEdit_Paste.triggered.connect(self.plainTextEdit.paste)</span><br><span class="line">        self.actClose.triggered.connect(MainWindow.close)</span><br><span class="line">        self.actEdit_Undo.triggered.connect(self.plainTextEdit.undo)</span><br><span class="line">        self.actEdit_SelectAll.triggered.connect(self.plainTextEdit.selectAll)</span><br><span class="line">        self.actEdit_Clear.triggered.connect(self.plainTextEdit.clear)</span><br><span class="line">        self.actEdit_Redo.triggered.connect(self.plainTextEdit.redo)</span><br><span class="line">        self.plainTextEdit.redoAvailable[<span class="string">&#x27;bool&#x27;</span>].connect(self.actEdit_Redo.setEnabled)</span><br><span class="line">        self.plainTextEdit.undoAvailable[<span class="string">&#x27;bool&#x27;</span>].connect(self.actEdit_Undo.setEnabled)</span><br><span class="line">        QtCore.QMetaObject.connectSlotsByName(MainWindow)</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">retranslateUi</span>(<span class="params">self, MainWindow</span>):</span></span><br><span class="line">        _translate = QtCore.QCoreApplication.translate</span><br><span class="line">        MainWindow.setWindowTitle(_translate(<span class="string">&quot;MainWindow&quot;</span>, <span class="string">&quot;MainWindow&quot;</span>))</span><br><span class="line">        self.menu.setTitle(_translate(<span class="string">&quot;MainWindow&quot;</span>, <span class="string">&quot;文件(&amp;F)&quot;</span>))</span><br><span class="line">        self.menu_E.setTitle(_translate(<span class="string">&quot;MainWindow&quot;</span>, <span class="string">&quot;编辑(&amp;E)&quot;</span>))</span><br><span class="line">        self.menu_M.setTitle(_translate(<span class="string">&quot;MainWindow&quot;</span>, <span class="string">&quot;格式(&amp;M)&quot;</span>))</span><br><span class="line">        self.menu_A.setTitle(_translate(<span class="string">&quot;MainWindow&quot;</span>, <span class="string">&quot;关于(&amp;A)&quot;</span>))</span><br><span class="line">        self.toolBar.setWindowTitle(_translate(<span class="string">&quot;MainWindow&quot;</span>, <span class="string">&quot;toolBar&quot;</span>))</span><br><span class="line">        self.actFont_Italic.setText(_translate(<span class="string">&quot;MainWindow&quot;</span>, <span class="string">&quot;斜体&quot;</span>))</span><br><span class="line">        self.actFont_Italic.setToolTip(_translate(<span class="string">&quot;MainWindow&quot;</span>, <span class="string">&quot;斜体&quot;</span>))</span><br><span class="line">        self.actFont_Bold.setText(_translate(<span class="string">&quot;MainWindow&quot;</span>, <span class="string">&quot;粗体&quot;</span>))</span><br><span class="line">        self.actFont_Bold.setToolTip(_translate(<span class="string">&quot;MainWindow&quot;</span>, <span class="string">&quot;粗体&quot;</span>))</span><br><span class="line">        self.actFont_Underline.setText(_translate(<span class="string">&quot;MainWindow&quot;</span>, <span class="string">&quot;下划线&quot;</span>))</span><br><span class="line">        self.actFont_Underline.setToolTip(_translate(<span class="string">&quot;MainWindow&quot;</span>, <span class="string">&quot;下划线&quot;</span>))</span><br><span class="line">        self.actEdit_Cut.setText(_translate(<span class="string">&quot;MainWindow&quot;</span>, <span class="string">&quot;剪切&quot;</span>))</span><br><span class="line">        self.actEdit_Cut.setToolTip(_translate(<span class="string">&quot;MainWindow&quot;</span>, <span class="string">&quot;剪切&quot;</span>))</span><br><span class="line">        self.actEdit_Cut.setShortcut(_translate(<span class="string">&quot;MainWindow&quot;</span>, <span class="string">&quot;Ctrl+X&quot;</span>))</span><br><span class="line">        self.actEdit_Copy.setText(_translate(<span class="string">&quot;MainWindow&quot;</span>, <span class="string">&quot;复制&quot;</span>))</span><br><span class="line">        self.actEdit_Copy.setToolTip(_translate(<span class="string">&quot;MainWindow&quot;</span>, <span class="string">&quot;复制&quot;</span>))</span><br><span class="line">        self.actEdit_Copy.setShortcut(_translate(<span class="string">&quot;MainWindow&quot;</span>, <span class="string">&quot;Ctrl+C&quot;</span>))</span><br><span class="line">        self.actEdit_Paste.setText(_translate(<span class="string">&quot;MainWindow&quot;</span>, <span class="string">&quot;粘贴&quot;</span>))</span><br><span class="line">        self.actEdit_Paste.setToolTip(_translate(<span class="string">&quot;MainWindow&quot;</span>, <span class="string">&quot;粘贴&quot;</span>))</span><br><span class="line">        self.actEdit_Paste.setShortcut(_translate(<span class="string">&quot;MainWindow&quot;</span>, <span class="string">&quot;Ctrl+V&quot;</span>))</span><br><span class="line">        self.actFile_New.setText(_translate(<span class="string">&quot;MainWindow&quot;</span>, <span class="string">&quot;新建&quot;</span>))</span><br><span class="line">        self.actFile_New.setToolTip(_translate(<span class="string">&quot;MainWindow&quot;</span>, <span class="string">&quot;新建&quot;</span>))</span><br><span class="line">        self.actFile_New.setShortcut(_translate(<span class="string">&quot;MainWindow&quot;</span>, <span class="string">&quot;Ctrl+N&quot;</span>))</span><br><span class="line">        self.actFile_Open.setText(_translate(<span class="string">&quot;MainWindow&quot;</span>, <span class="string">&quot;打开...&quot;</span>))</span><br><span class="line">        self.actFile_Open.setToolTip(_translate(<span class="string">&quot;MainWindow&quot;</span>, <span class="string">&quot;打开...&quot;</span>))</span><br><span class="line">        self.actFile_Open.setShortcut(_translate(<span class="string">&quot;MainWindow&quot;</span>, <span class="string">&quot;Ctrl+O&quot;</span>))</span><br><span class="line">        self.actFile_Save.setText(_translate(<span class="string">&quot;MainWindow&quot;</span>, <span class="string">&quot;保存&quot;</span>))</span><br><span class="line">        self.actFile_Save.setToolTip(_translate(<span class="string">&quot;MainWindow&quot;</span>, <span class="string">&quot;保存&quot;</span>))</span><br><span class="line">        self.actFile_Save.setShortcut(_translate(<span class="string">&quot;MainWindow&quot;</span>, <span class="string">&quot;Ctrl+S&quot;</span>))</span><br><span class="line">        self.actClose.setText(_translate(<span class="string">&quot;MainWindow&quot;</span>, <span class="string">&quot;关闭&quot;</span>))</span><br><span class="line">        self.actClose.setToolTip(_translate(<span class="string">&quot;MainWindow&quot;</span>, <span class="string">&quot;关闭&quot;</span>))</span><br><span class="line">        self.actEdit_Undo.setText(_translate(<span class="string">&quot;MainWindow&quot;</span>, <span class="string">&quot;撤销&quot;</span>))</span><br><span class="line">        self.actEdit_Undo.setToolTip(_translate(<span class="string">&quot;MainWindow&quot;</span>, <span class="string">&quot;撤销&quot;</span>))</span><br><span class="line">        self.actEdit_Undo.setShortcut(_translate(<span class="string">&quot;MainWindow&quot;</span>, <span class="string">&quot;Ctrl+Z&quot;</span>))</span><br><span class="line">        self.actEdit_Redo.setText(_translate(<span class="string">&quot;MainWindow&quot;</span>, <span class="string">&quot;重做&quot;</span>))</span><br><span class="line">        self.actEdit_Redo.setToolTip(_translate(<span class="string">&quot;MainWindow&quot;</span>, <span class="string">&quot;重做&quot;</span>))</span><br><span class="line">        self.actEdit_Redo.setShortcut(_translate(<span class="string">&quot;MainWindow&quot;</span>, <span class="string">&quot;Ctrl+Y&quot;</span>))</span><br><span class="line">        self.actEdit_Clear.setText(_translate(<span class="string">&quot;MainWindow&quot;</span>, <span class="string">&quot;清空&quot;</span>))</span><br><span class="line">        self.actEdit_Clear.setToolTip(_translate(<span class="string">&quot;MainWindow&quot;</span>, <span class="string">&quot;清空&quot;</span>))</span><br><span class="line">        self.actEdit_SelectAll.setText(_translate(<span class="string">&quot;MainWindow&quot;</span>, <span class="string">&quot;全选&quot;</span>))</span><br><span class="line">        self.actEdit_SelectAll.setToolTip(_translate(<span class="string">&quot;MainWindow&quot;</span>, <span class="string">&quot;全选&quot;</span>))</span><br><span class="line">        self.actEdit_SelectAll.setShortcut(_translate(<span class="string">&quot;MainWindow&quot;</span>, <span class="string">&quot;Ctrl+A&quot;</span>))</span><br><span class="line">        self.actLang_CN.setText(_translate(<span class="string">&quot;MainWindow&quot;</span>, <span class="string">&quot;汉语&quot;</span>))</span><br><span class="line">        self.actLang_CN.setToolTip(_translate(<span class="string">&quot;MainWindow&quot;</span>, <span class="string">&quot;汉语&quot;</span>))</span><br><span class="line">        self.actLang_EN.setText(_translate(<span class="string">&quot;MainWindow&quot;</span>, <span class="string">&quot;英语&quot;</span>))</span><br><span class="line">        self.actLang_EN.setToolTip(_translate(<span class="string">&quot;MainWindow&quot;</span>, <span class="string">&quot;英语&quot;</span>))</span><br><span class="line"></span><br></pre></td></tr></table></figure>



</li>
</ol>
<ol start="3">
<li><p>创建逻辑类</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> sys</span><br><span class="line"><span class="keyword">from</span> PyQt5.QtCore <span class="keyword">import</span> pyqtSlot</span><br><span class="line"><span class="keyword">from</span> PyQt5.QtGui <span class="keyword">import</span> QFont</span><br><span class="line"><span class="keyword">from</span> PyQt5.QtWidgets <span class="keyword">import</span> QMainWindow, QApplication, QLabel, QProgressBar, QActionGroup, QSpinBox, QFontComboBox</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> ui_MainWindow</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">QMyMainWindow</span>(<span class="params">QMainWindow</span>):</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self,parent=<span class="literal">None</span></span>):</span></span><br><span class="line">        <span class="built_in">super</span>().__init__(parent)</span><br><span class="line">        self.ui = ui_MainWindow.Ui_MainWindow()</span><br><span class="line">        self.ui.setupUi(self)</span><br><span class="line"></span><br><span class="line">        self.__buildUI()</span><br><span class="line"></span><br><span class="line">        <span class="comment"># 设置斜体</span></span><br><span class="line">        self.ui.actFont_Italic.triggered.connect(self.do_act_font_italic_triggered)</span><br><span class="line">        <span class="comment"># 设置粗体</span></span><br><span class="line">        self.ui.actFont_Bold.triggered.connect(self.do_act_font_bold_triggered)</span><br><span class="line">        <span class="comment"># 设置下划线</span></span><br><span class="line">        self.ui.actFont_Underline.triggered.connect(self.do_act_font_underline_triggered)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        <span class="comment"># 新建文件</span></span><br><span class="line">        self.ui.actFile_New.triggered.connect(self.do_act_file_new_triggered)</span><br><span class="line">        <span class="comment"># 打开文件</span></span><br><span class="line">        self.ui.actFile_Open.triggered.connect(self.do_act_file_open_triggered)</span><br><span class="line">        <span class="comment"># 保存文件</span></span><br><span class="line">        self.ui.actFile_Save.triggered.connect(self.do_act_file_save_triggered)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        <span class="comment"># 设置字体大小</span></span><br><span class="line">        self.__spinFontSize.valueChanged[<span class="built_in">int</span>].connect(self.do_fontsize_changed)</span><br><span class="line">        <span class="comment"># 字体选择</span></span><br><span class="line">        self.__comboFontName.currentIndexChanged[<span class="built_in">str</span>].connect(self.do_fontname_changed)</span><br><span class="line"></span><br><span class="line">        <span class="comment"># 文本框内容可复制</span></span><br><span class="line">        self.ui.plainTextEdit.copyAvailable.connect(self.do_plain_textedit_copyavailable)</span><br><span class="line">        <span class="comment"># 文本选择内容发生改变</span></span><br><span class="line">        self.ui.plainTextEdit.selectionChanged.connect(self.do_plain_textedit_selectionchanged)</span><br><span class="line">        <span class="comment"># 标准右键菜单</span></span><br><span class="line">        self.ui.plainTextEdit.customContextMenuRequested.connect(self.do_plain_textedit_customctmnreq)</span><br><span class="line"></span><br><span class="line">        self.setCentralWidget(self.ui.plainTextEdit)</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__buildUI</span>(<span class="params">self</span>):</span>  <span class="comment"># 窗体上动态添加组件</span></span><br><span class="line">        <span class="comment"># 创建状态栏上的组件</span></span><br><span class="line">        self.__LabFile = QLabel(self)  <span class="comment"># QLabel组件显示信息</span></span><br><span class="line">        self.__LabFile.setMinimumWidth(<span class="number">150</span>)</span><br><span class="line">        self.__LabFile.setText(<span class="string">&quot;文件名：&quot;</span>)</span><br><span class="line">        self.ui.statusBar.addWidget(self.__LabFile)  <span class="comment"># 添加到状态栏</span></span><br><span class="line"></span><br><span class="line">        self.__progressBar1 = QProgressBar(self)</span><br><span class="line">        self.__progressBar1.setMaximumWidth(<span class="number">200</span>)</span><br><span class="line">        self.__progressBar1.setMinimum(<span class="number">5</span>)</span><br><span class="line">        self.__progressBar1.setMaximum(<span class="number">50</span>)</span><br><span class="line">        sz = self.ui.plainTextEdit.font().pointSize()  <span class="comment"># 字体大小</span></span><br><span class="line">        self.__progressBar1.setValue(sz)</span><br><span class="line">        self.ui.statusBar.addWidget(self.__progressBar1)  <span class="comment"># 添加到状态栏</span></span><br><span class="line"></span><br><span class="line">        self.__LabInfo = QLabel(self)  <span class="comment"># QLabel组件显示字体名称</span></span><br><span class="line">        self.__LabInfo.setText(<span class="string">&quot;选择字体名称：&quot;</span>)</span><br><span class="line">        self.ui.statusBar.addPermanentWidget(self.__LabInfo)  <span class="comment"># 添加到状态栏</span></span><br><span class="line"></span><br><span class="line">        <span class="comment"># 为actLang_CN和actLang_EN创建QActionGroup，互斥型选择</span></span><br><span class="line">        actionGroup = QActionGroup(self)</span><br><span class="line">        actionGroup.addAction(self.ui.actLang_CN)</span><br><span class="line">        actionGroup.addAction(self.ui.actLang_EN)</span><br><span class="line">        actionGroup.setExclusive(<span class="literal">True</span>)  <span class="comment"># 互斥型分组</span></span><br><span class="line">        self.ui.actLang_CN.setChecked(<span class="literal">True</span>)</span><br><span class="line"></span><br><span class="line">        <span class="comment"># 创建工具我是谁，我在哪儿栏上的组件</span></span><br><span class="line">        self.__spinFontSize = QSpinBox(self)  <span class="comment"># 字体大小spinBox</span></span><br><span class="line">        self.__spinFontSize.setMinimum(<span class="number">5</span>)</span><br><span class="line">        self.__spinFontSize.setMaximum(<span class="number">50</span>)</span><br><span class="line">        sz = self.ui.plainTextEdit.font().pointSize()</span><br><span class="line">        self.__spinFontSize.setValue(sz)</span><br><span class="line">        self.__spinFontSize.setMinimumWidth(<span class="number">50</span>)</span><br><span class="line">        self.ui.toolBar.addWidget(self.__spinFontSize)  <span class="comment"># 添加到工具栏</span></span><br><span class="line"></span><br><span class="line">        self.__comboFontName = QFontComboBox(self)  <span class="comment"># 字体comboBox</span></span><br><span class="line">        self.__comboFontName.setMinimumWidth(<span class="number">100</span>)</span><br><span class="line">        self.ui.toolBar.addWidget(self.__comboFontName)  <span class="comment"># 添加到工具栏</span></span><br><span class="line"></span><br><span class="line">        self.ui.toolBar.addSeparator()  <span class="comment"># 添加一个分隔条</span></span><br><span class="line">        self.ui.toolBar.addAction(self.ui.actClose)  <span class="comment"># 添加一个关闭按钮</span></span><br><span class="line"></span><br><span class="line"><span class="meta">    @pyqtSlot(<span class="params"><span class="built_in">bool</span></span>)</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">do_act_font_italic_triggered</span>(<span class="params">self,checked</span>):</span></span><br><span class="line">        fmt = self.ui.plainTextEdit.currentCharFormat()</span><br><span class="line">        fmt.setFontItalic(checked)</span><br><span class="line">        self.ui.plainTextEdit.mergeCurrentCharFormat(fmt)</span><br><span class="line"></span><br><span class="line"><span class="meta">    @pyqtSlot(<span class="params"><span class="built_in">bool</span></span>)</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">do_act_font_bold_triggered</span>(<span class="params">self,checked</span>):</span></span><br><span class="line">        fmt = self.ui.plainTextEdit.currentCharFormat()</span><br><span class="line">        <span class="keyword">if</span> checked:</span><br><span class="line">            fmt.setFontWeight(QFont.Bold)</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            fmt.setFontWeight(QFont.Normal)</span><br><span class="line">        self.ui.plainTextEdit.mergeCurrentCharFormat(fmt)</span><br><span class="line"></span><br><span class="line"><span class="meta">    @pyqtSlot(<span class="params"><span class="built_in">bool</span></span>)</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">do_act_font_underline_triggered</span>(<span class="params">self,checked</span>):</span></span><br><span class="line">        fmt = self.ui.plainTextEdit.currentCharFormat()</span><br><span class="line">        fmt.setFontUnderline(checked)</span><br><span class="line">        self.ui.plainTextEdit.mergeCurrentCharFormat(fmt)</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">do_act_file_new_triggered</span>(<span class="params">self</span>):</span>  <span class="comment"># 新建文件，不实现具体功能</span></span><br><span class="line">        self.__LabFile.setText(<span class="string">&quot; 新建文件&quot;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">do_act_file_open_triggered</span>(<span class="params">self</span>):</span>  <span class="comment"># 打开文件，不实现具体功能</span></span><br><span class="line">        self.__LabFile.setText(<span class="string">&quot; 打开的文件&quot;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">do_act_file_save_triggered</span>(<span class="params">self</span>):</span>  <span class="comment"># 保存文件，不实现具体功能</span></span><br><span class="line">        self.__LabFile.setText(<span class="string">&quot; 文件已保存&quot;</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="meta">    @pyqtSlot(<span class="params"><span class="built_in">int</span></span>)</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">do_fontsize_changed</span>(<span class="params">self, fontSize</span>):</span>  <span class="comment"># 设置字体大小</span></span><br><span class="line">        fmt = self.ui.plainTextEdit.currentCharFormat()</span><br><span class="line">        fmt.setFontPointSize(fontSize)</span><br><span class="line">        self.ui.plainTextEdit.mergeCurrentCharFormat(fmt)</span><br><span class="line">        self.__progressBar1.setValue(fontSize)</span><br><span class="line"></span><br><span class="line"><span class="meta">    @pyqtSlot(<span class="params"><span class="built_in">str</span></span>)</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">do_fontname_changed</span>(<span class="params">self, fontName</span>):</span>  <span class="comment"># 设置字体</span></span><br><span class="line">        fmt = self.ui.plainTextEdit.currentCharFormat()</span><br><span class="line">        fmt.setFontFamily(fontName)</span><br><span class="line">        self.ui.plainTextEdit.mergeCurrentCharFormat(fmt)</span><br><span class="line">        self.__LabInfo.setText(<span class="string">&quot;字体名称：%s    &quot;</span> % fontName)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 文本内容可复制</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">do_plain_textedit_copyavailable</span>(<span class="params">self, avi</span>):</span></span><br><span class="line">        self.ui.actEdit_Cut.setEnabled(avi)</span><br><span class="line">        self.ui.actEdit_Copy.setEnabled(avi)</span><br><span class="line">        self.ui.actEdit_Paste.setEnabled(self.ui.plainTextEdit.canPaste())</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 文本选择内容发生改变时</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">do_plain_textedit_selectionchanged</span>(<span class="params">self</span>):</span></span><br><span class="line">        fmt = self.ui.plainTextEdit.currentCharFormat()</span><br><span class="line">        self.ui.actFont_Bold.setChecked(fmt.font().bold())</span><br><span class="line">        self.ui.actFont_Italic.setChecked(fmt.fontItalic())</span><br><span class="line">        self.ui.actFont_Underline.setChecked(fmt.fontUnderline())</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 标准右键菜单</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">do_plain_textedit_customctmnreq</span>(<span class="params">self, pos</span>):</span></span><br><span class="line">        popMenu = self.ui.plainTextEdit.createStandardContextMenu()</span><br><span class="line">        popMenu.exec(pos)  <span class="comment"># 显示快捷菜单</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    app = QApplication(sys.argv)</span><br><span class="line">    form = QMyMainWindow()</span><br><span class="line">    form.show()</span><br><span class="line">    sys.exit(app.exec_())</span><br><span class="line"></span><br></pre></td></tr></table></figure>

















</li>
</ol>
</article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">文章作者: </span><span class="post-copyright-info"><a href="mailto:undefined">Jinyun</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">文章链接: </span><span class="post-copyright-info"><a href="http://example.com/2020/11/26/PyQt%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/">http://example.com/2020/11/26/PyQt%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="http://example.com" target="_blank">小郭博客</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/PyQt/">PyQt</a><a class="post-meta__tags" href="/tags/Python/">Python</a></div><div class="post_share"><div class="social-share" data-image="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/img/default.jpg" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/social-share.js/dist/css/share.min.css"><script src="https://cdn.jsdelivr.net/npm/social-share.js/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/2020/12/06/Zookeeper%E7%AC%94%E8%AE%B0/"><img class="prev-cover" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/img/default.jpg" onerror="onerror=null;src='/img/404.jpg'"><div class="pagination-info"><div class="label">上一篇</div><div class="prev_info">Zookeeper笔记</div></div></a></div><div class="next-post pull-right"><a href="/2020/11/25/SpringBoot%E7%AC%94%E8%AE%B0/"><img class="next-cover" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/img/default.jpg" onerror="onerror=null;src='/img/404.jpg'"><div class="pagination-info"><div class="label">下一篇</div><div class="next_info">SpringBoot笔记</div></div></a></div></nav></div><div class="aside_content" id="aside_content"><div class="card-widget card-info"><div class="card-content"><div class="card-info-avatar is-center"><img class="avatar-img" src="/img/avatar.png" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/><div class="author-info__name">Jinyun</div><div class="author-info__description"></div></div><div class="card-info-data"><div class="card-info-data-item is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">9</div></a></div><div class="card-info-data-item is-center"><a href="/tags/"><div class="headline">标签</div><div class="length-num">4</div></a></div><div class="card-info-data-item is-center"><a href="/categories/"><div class="headline">分类</div><div class="length-num">2</div></a></div></div><a class="button--animated" id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/jinyun"><i class="fab fa-github"></i><span>Follow Me</span></a><div class="card-info-social-icons is-center"><a class="social-icon" href="https://github.com/jinyun" target="_blank" title="Github"><i class="fab fa-github"></i></a><a class="social-icon" href="mailto:jinyunguoguo@foxmail.com" target="_blank" title="Email"><i class="fas fa-envelope"></i></a></div></div></div><div class="card-widget card-announcement"><div class="card-content"><div class="item-headline"><i class="fas fa-bullhorn card-announcement-animation"></i><span>公告</span></div><div class="announcement_content">感谢访问，若喜欢请收藏：)</div></div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="card-content"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#1-%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA%E5%AE%89%E8%A3%85%E5%92%8C%E9%85%8D%E7%BD%AE"><span class="toc-number">1.</span> <span class="toc-text">1. 环境搭建安装和配置</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-%E5%AE%89%E8%A3%85"><span class="toc-number">1.1.</span> <span class="toc-text">1.安装</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-%E9%85%8D%E7%BD%AEpytharm"><span class="toc-number">1.2.</span> <span class="toc-text">2. 配置pytharm</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-%E6%B5%8B%E8%AF%95"><span class="toc-number">1.3.</span> <span class="toc-text">3. 测试</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-Qt-Designer%E7%95%8C%E9%9D%A2%E4%BB%8B%E7%BB%8D"><span class="toc-number">2.</span> <span class="toc-text">2. Qt Designer界面介绍</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%9B%E5%BB%BA%E7%95%8C%E9%9D%A2"><span class="toc-number">2.1.</span> <span class="toc-text">创建界面</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-%E7%95%8C%E9%9D%A2%E4%B8%8E%E9%80%BB%E8%BE%91%E5%88%86%E7%A6%BB%E7%9A%84%E8%AE%BE%E8%AE%A1%E6%96%B9%E6%B3%95"><span class="toc-number">3.</span> <span class="toc-text">3. 界面与逻辑分离的设计方法</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%9B%E5%BB%BAUI%E6%96%87%E4%BB%B6"><span class="toc-number">3.1.</span> <span class="toc-text">创建UI文件</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%A4%9A%E7%BB%A7%E6%89%BF%E6%96%B9%E6%B3%95"><span class="toc-number">3.2.</span> <span class="toc-text">多继承方法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8D%95%E7%BB%A7%E6%89%BF%E4%B8%8E%E7%95%8C%E9%9D%A2%E7%8B%AC%E7%AB%8B%E5%B0%81%E8%A3%85%E6%96%B9%E6%B3%95"><span class="toc-number">3.3.</span> <span class="toc-text">单继承与界面独立封装方法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%B0%8F%E6%80%BB%E7%BB%93"><span class="toc-number">3.4.</span> <span class="toc-text">小总结</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#4-%E4%BF%A1%E5%8F%B7%E4%B8%8E%E6%A7%BD%E7%9A%84%E4%BD%BF%E7%94%A8"><span class="toc-number">4.</span> <span class="toc-text">4.信号与槽的使用</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%9B%E5%BB%BA%E4%B8%80%E4%B8%AAUI"><span class="toc-number">4.1.</span> <span class="toc-text">创建一个UI</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%8A%8Aui%E6%96%87%E4%BB%B6%E8%BD%AC%E6%8D%A2"><span class="toc-number">4.2.</span> <span class="toc-text">把ui文件转换</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%80%BB%E7%BB%93"><span class="toc-number">4.3.</span> <span class="toc-text">总结</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#5-%E4%B8%BA%E7%BB%84%E4%BB%B6%E7%9A%84%E5%85%A7%E5%BB%BA%E4%BF%A1%E5%8F%B7%E7%BC%96%E5%86%99%E6%A7%BD%E5%87%BD%E6%95%B0"><span class="toc-number">5.</span> <span class="toc-text">5.为组件的內建信号编写槽函数</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#6-%E8%87%AA%E5%AE%9A%E4%B9%89%E5%9E%8B%E5%8F%B7%E4%B8%8E%E6%A7%BD%E4%BD%BF%E7%94%A8"><span class="toc-number">6.</span> <span class="toc-text">6. 自定义型号与槽使用</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#12-%E5%B0%BA%E5%AF%B8%E7%AD%96%E7%95%A5"><span class="toc-number">7.</span> <span class="toc-text">12. 尺寸策略</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#13-%E8%AE%BE%E7%BD%AE%E4%BC%99%E4%BC%B4%E5%85%B3%E7%B3%BB%E5%92%8CTab%E9%A1%BA%E5%BA%8F"><span class="toc-number">8.</span> <span class="toc-text">13. 设置伙伴关系和Tab顺序</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#7-%E5%B8%B8%E7%94%A8%E7%95%8C%E9%9D%A2%E7%BB%84%E4%BB%B6%E7%9A%84%E4%BD%BF%E7%94%A8-QSlider%E5%92%8CQProgressBar"><span class="toc-number">9.</span> <span class="toc-text">7. 常用界面组件的使用(QSlider和QProgressBar)</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#8-%E6%97%A5%E6%9C%9F%E5%92%8C%E6%97%B6%E9%97%B4%E6%95%B0%E6%8D%AE"><span class="toc-number">10.</span> <span class="toc-text">8.日期和时间数据</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#9-%E5%AE%9A%E6%97%B6%E5%99%A8%E5%92%8C%E8%AE%A1%E6%97%B6%E5%99%A8"><span class="toc-number">11.</span> <span class="toc-text">9. 定时器和计时器</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#10-%E4%B8%8B%E6%8B%89%E5%88%97%E8%A1%A8%E6%A1%86"><span class="toc-number">12.</span> <span class="toc-text">10. 下拉列表框</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#QComboBox%E5%B8%B8%E7%94%A8%E5%87%BD%E6%95%B0%E6%80%BB%E7%BB%93"><span class="toc-number">12.1.</span> <span class="toc-text">QComboBox常用函数总结</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#11-WebView%E4%BD%BF%E7%94%A8"><span class="toc-number">13.</span> <span class="toc-text">11. WebView使用</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#12-QMainWindow%E4%B8%8EQAction"><span class="toc-number">14.</span> <span class="toc-text">12. QMainWindow与QAction</span></a></li></ol></div></div></div><div class="card-widget card-recent-post"><div class="card-content"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/2020/12/06/%E6%BA%90%E7%A0%81-Spring%E6%BA%90%E7%A0%81/" title="源码/Spring源码"><img src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/img/default.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="源码/Spring源码"/></a><div class="content"><a class="title" href="/2020/12/06/%E6%BA%90%E7%A0%81-Spring%E6%BA%90%E7%A0%81/" title="源码/Spring源码">源码/Spring源码</a><time datetime="2020-12-06T21:51:01.000Z" title="发表于 2020-12-06 21:51:01">2020-12-06</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2020/12/06/Java%E5%B9%B6%E5%8F%91/" title="Java并发"><img src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/img/default.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Java并发"/></a><div class="content"><a class="title" href="/2020/12/06/Java%E5%B9%B6%E5%8F%91/" title="Java并发">Java并发</a><time datetime="2020-12-06T21:50:24.000Z" title="发表于 2020-12-06 21:50:24">2020-12-06</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2020/12/06/%E6%BA%90%E7%A0%81-JDK%E6%BA%90%E7%A0%81/" title="源码/JDK源码"><img src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/img/default.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="源码/JDK源码"/></a><div class="content"><a class="title" href="/2020/12/06/%E6%BA%90%E7%A0%81-JDK%E6%BA%90%E7%A0%81/" title="源码/JDK源码">源码/JDK源码</a><time datetime="2020-12-06T21:49:07.000Z" title="发表于 2020-12-06 21:49:07">2020-12-06</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2020/12/06/ElasticSearch%E7%AC%94%E8%AE%B0/" title="ElasticSearch笔记"><img src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/img/default.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="ElasticSearch笔记"/></a><div class="content"><a class="title" href="/2020/12/06/ElasticSearch%E7%AC%94%E8%AE%B0/" title="ElasticSearch笔记">ElasticSearch笔记</a><time datetime="2020-12-06T21:39:22.000Z" title="发表于 2020-12-06 21:39:22">2020-12-06</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2020/12/06/Netty%E7%AC%94%E8%AE%B0/" title="Netty笔记"><img src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/img/default.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Netty笔记"/></a><div class="content"><a class="title" href="/2020/12/06/Netty%E7%AC%94%E8%AE%B0/" title="Netty笔记">Netty笔记</a><time datetime="2020-12-06T21:38:45.000Z" title="发表于 2020-12-06 21:38:45">2020-12-06</time></div></div></div></div></div></div></div></main><footer id="footer" style="background-image: url(https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/img/default.jpg)"><div id="footer-wrap"><div class="copyright">&copy;2020 - 2021 By Jinyun</div><div class="framework-info"><span>框架 </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>主题 </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="设置"><i class="fas fa-cog"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><button id="go-up" type="button" title="回到顶部"><i class="fas fa-arrow-up"></i></button></div></div><div><script src="https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js"></script><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.js"></script><script>var preloader = {
  endLoading: () => {
    document.body.style.overflow = 'auto';
    document.getElementById('loading-box').classList.add("loaded")
  },
  initLoading: () => {
    document.body.style.overflow = '';
    document.getElementById('loading-box').classList.remove("loaded")

  }
}
window.addEventListener('load',()=> {preloader.endLoading()})</script><div class="js-pjax"><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div></div></body></html>